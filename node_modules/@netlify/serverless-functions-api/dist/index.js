import{createRequire}from"module";const require=createRequire(import.meta.url);
var fA=Object.create;var Kn=Object.defineProperty;var dA=Object.getOwnPropertyDescriptor;var AA=Object.getOwnPropertyNames;var hA=Object.getPrototypeOf,mA=Object.prototype.hasOwnProperty;var $c=e=>{throw TypeError(e)};var G=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var _=(e,t)=>()=>(e&&(t=e(e=0)),t);var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Se=(e,t)=>{for(var r in t)Kn(e,r,{get:t[r],enumerable:!0})},Yc=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AA(t))!mA.call(e,o)&&o!==r&&Kn(e,o,{get:()=>t[o],enumerable:!(n=dA(t,o))||n.enumerable});return e};var Xn=(e,t,r)=>(r=e!=null?fA(hA(e)):{},Yc(t||!e||!e.__esModule?Kn(r,"default",{value:e,enumerable:!0}):r,e)),De=e=>Yc(Kn({},"__esModule",{value:!0}),e);var qc=(e,t,r)=>t.has(e)||$c("Cannot "+r);var Wn=(e,t,r)=>(qc(e,t,"read from private field"),r?r.call(e):t.get(e)),Js=(e,t,r)=>t.has(e)?$c("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Qs=(e,t,r,n)=>(qc(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Xc,Wc=_(()=>{Xc=typeof globalThis=="object"?globalThis:global});var zc=_(()=>{Wc()});var Jc=_(()=>{zc()});var Xe,Zs=_(()=>{Xe="1.9.0"});function vA(e){var t=new Set([e]),r=new Set,n=e.match(Qc);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return function(c){return c===e};function s(i){return r.add(i),!1}function a(i){return t.add(i),!0}return function(c){if(t.has(c))return!0;if(r.has(c))return!1;var u=c.match(Qc);if(!u)return s(c);var E={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return E.prerelease!=null||o.major!==E.major?s(c):o.major===0?o.minor===E.minor&&o.patch<=E.patch?a(c):s(c):o.minor<=E.minor?a(c):s(c)}}var Qc,Zc,eu=_(()=>{Zs();Qc=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;Zc=vA(Xe)});function Be(e,t,r,n){var o;n===void 0&&(n=!1);var s=xr[Mr]=(o=xr[Mr])!==null&&o!==void 0?o:{version:Xe};if(!n&&s[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}if(s.version!==Xe){var a=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+Xe);return r.error(a.stack||a.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Xe+"."),!0}function ve(e){var t,r,n=(t=xr[Mr])===null||t===void 0?void 0:t.version;if(!(!n||!Zc(n)))return(r=xr[Mr])===null||r===void 0?void 0:r[e]}function Fe(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Xe+".");var r=xr[Mr];r&&delete r[e]}var OA,Mr,xr,St=_(()=>{Jc();Zs();eu();OA=Xe.split(".")[0],Mr=Symbol.for("opentelemetry.js.api."+OA),xr=Xc});function Dr(e,t,r){var n=ve("diag");if(n)return r.unshift(t),n[e].apply(n,PA([],NA(r),!1))}var NA,PA,tu,ru=_(()=>{St();NA=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(i){a={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s},PA=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},tu=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Dr("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Dr("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Dr("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Dr("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Dr("verbose",this._namespace,t)},e})()});var F,zn=_(()=>{(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(F||(F={}))});function nu(e,t){e<F.NONE?e=F.NONE:e>F.ALL&&(e=F.ALL),t=t||{};function r(n,o){var s=t[n];return typeof s=="function"&&e>=o?s.bind(t):function(){}}return{error:r("error",F.ERROR),warn:r("warn",F.WARN),info:r("info",F.INFO),debug:r("debug",F.DEBUG),verbose:r("verbose",F.VERBOSE)}}var ou=_(()=>{zn()});var CA,IA,LA,re,ft=_(()=>{ru();ou();zn();St();CA=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(i){a={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s},IA=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},LA="diag",re=(function(){function e(){function t(o){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var i=ve("diag");if(i)return i[o].apply(i,IA([],CA(s),!1))}}var r=this,n=function(o,s){var a,i,c;if(s===void 0&&(s={logLevel:F.INFO}),o===r){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((a=u.stack)!==null&&a!==void 0?a:u.message),!1}typeof s=="number"&&(s={logLevel:s});var E=ve("diag"),p=nu((i=s.logLevel)!==null&&i!==void 0?i:F.INFO,o);if(E&&!s.suppressOverrideMessage){var l=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";E.warn("Current logger will be overwritten from "+l),p.warn("Current logger will overwrite one already registered from "+l)}return Be("diag",p,r,!0)};r.setLogger=n,r.disable=function(){Fe(LA,r)},r.createComponentLogger=function(o){return new tu(o)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})()});var MA,xA,su,au=_(()=>{MA=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(i){a={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s},xA=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},su=(function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=MA(t,2),n=r[0],o=r[1];return[n,o]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=new e(this._entries);try{for(var a=xA(n),i=a.next();!i.done;i=a.next()){var c=i.value;s._entries.delete(c)}}catch(u){t={error:u}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e})()});var iu,cu=_(()=>{iu=Symbol("BaggageEntryMetadata")});function uu(e){return e===void 0&&(e={}),new su(new Map(Object.entries(e)))}function Jn(e){return typeof e!="string"&&(DA.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:iu,toString:function(){return e}}}var DA,ea=_(()=>{ft();au();cu();DA=re.instance()});function Oe(e){return Symbol.for(e)}var yA,Qn,yr=_(()=>{yA=(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var s=new e(r._currentContext);return s._currentContext.set(n,o),s},r.deleteValue=function(n){var o=new e(r._currentContext);return o._currentContext.delete(n),o}}return e})(),Qn=new yA});var ta,Eu,_u=_(()=>{ta=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Eu=(function(){function e(){function t(n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(console){var a=console[n];if(typeof a!="function"&&(a=console.log),typeof a=="function")return a.apply(console,o)}}}for(var r=0;r<ta.length;r++)this[ta[r].n]=t(ta[r].c)}return e})()});function pu(){return na}var dt,UA,Zn,bA,wA,VA,GA,ra,BA,FA,HA,na,kA,$A,YA,qA,jA,KA,XA,oa=_(()=>{dt=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),UA=(function(){function e(){}return e.prototype.createGauge=function(t,r){return $A},e.prototype.createHistogram=function(t,r){return YA},e.prototype.createCounter=function(t,r){return kA},e.prototype.createUpDownCounter=function(t,r){return qA},e.prototype.createObservableGauge=function(t,r){return KA},e.prototype.createObservableCounter=function(t,r){return jA},e.prototype.createObservableUpDownCounter=function(t,r){return XA},e.prototype.addBatchObservableCallback=function(t,r){},e.prototype.removeBatchObservableCallback=function(t){},e})(),Zn=(function(){function e(){}return e})(),bA=(function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(r,n){},t})(Zn),wA=(function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(r,n){},t})(Zn),VA=(function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(r,n){},t})(Zn),GA=(function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(r,n){},t})(Zn),ra=(function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e})(),BA=(function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(ra),FA=(function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(ra),HA=(function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(ra),na=new UA,kA=new bA,$A=new VA,YA=new GA,qA=new wA,jA=new BA,KA=new FA,XA=new HA});var eo,lu=_(()=>{(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(eo||(eo={}))});var to,ro,sa=_(()=>{to={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},ro={set:function(e,t,r){e!=null&&(e[t]=r)}}});var WA,zA,Tu,Su=_(()=>{yr();WA=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(i){a={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s},zA=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Tu=(function(){function e(){}return e.prototype.active=function(){return Qn},e.prototype.with=function(t,r,n){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return r.call.apply(r,zA([n],WA(o),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})()});var JA,QA,aa,ZA,et,Ur=_(()=>{Su();St();ft();JA=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(i){a={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s},QA=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},aa="context",ZA=new Tu,et=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Be(aa,t,re.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return(o=this._getContextManager()).with.apply(o,QA([t,r,n],JA(s),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return ve(aa)||ZA},e.prototype.disable=function(){this._getContextManager().disable(),Fe(aa,re.instance())},e})()});var U,ia=_(()=>{(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(U||(U={}))});var br,wr,Vt,no=_(()=>{ia();br="0000000000000000",wr="00000000000000000000000000000000",Vt={traceId:wr,spanId:br,traceFlags:U.NONE}});var tt,oo=_(()=>{no();tt=(function(){function e(t){t===void 0&&(t=Vt),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e})()});function so(e){return e.getValue(ca)||void 0}function fu(){return so(et.getInstance().active())}function Vr(e,t){return e.setValue(ca,t)}function du(e){return e.deleteValue(ca)}function Au(e,t){return Vr(e,new tt(t))}function ao(e){var t;return(t=so(e))===null||t===void 0?void 0:t.spanContext()}var ca,ua=_(()=>{yr();oo();Ur();ca=Oe("OpenTelemetry Context Key SPAN")});function ye(e){return eh.test(e)&&e!==wr}function At(e){return th.test(e)&&e!==br}function ne(e){return ye(e.traceId)&&At(e.spanId)}function hu(e){return new tt(e)}var eh,th,io=_(()=>{no();oo();eh=/^([0-9a-f]{32})$/i,th=/^[0-9a-f]{16}$/i});function rh(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Ea,co,_a=_(()=>{Ur();ua();oo();io();Ea=et.getInstance(),co=(function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=Ea.active());var o=!!(r!=null&&r.root);if(o)return new tt;var s=n&&ao(n);return rh(s)&&ne(s)?new tt(s):new tt},e.prototype.startActiveSpan=function(t,r,n,o){var s,a,i;if(!(arguments.length<2)){arguments.length===2?i=r:arguments.length===3?(s=r,i=n):(s=r,a=n,i=o);var c=a??Ea.active(),u=this.startSpan(t,s,c),E=Vr(c,u);return Ea.with(E,i,void 0,u)}},e})()});var nh,uo,pa=_(()=>{_a();nh=new co,uo=(function(){function e(t,r,n,o){this._provider=t,this.name=r,this.version=n,this.options=o}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,o){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):nh},e})()});var mu,Ru=_(()=>{_a();mu=(function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new co},e})()});var oh,Gr,la=_(()=>{pa();Ru();oh=new mu,Gr=(function(){function e(){}return e.prototype.getTracer=function(t,r,n){var o;return(o=this.getDelegateTracer(t,r,n))!==null&&o!==void 0?o:new uo(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:oh},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,r,n)},e})()});var fe,gu=_(()=>{(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(fe||(fe={}))});var Gt,vu=_(()=>{(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Gt||(Gt={}))});var rt,Ou=_(()=>{(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(rt||(rt={}))});function Nu(e){return ih.test(e)}function Pu(e){return ch.test(e)&&!uh.test(e)}var Ta,sh,ah,ih,ch,uh,Cu=_(()=>{Ta="[_0-9a-z-*/]",sh="[a-z]"+Ta+"{0,255}",ah="[a-z0-9]"+Ta+"{0,240}@[a-z]"+Ta+"{0,13}",ih=new RegExp("^(?:"+sh+"|"+ah+")$"),ch=/^[ -~]{0,255}[!-~]$/,uh=/,|=/});var Iu,Eh,Lu,Mu,xu,Du=_(()=>{Cu();Iu=32,Eh=512,Lu=",",Mu="=",xu=(function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+Mu+t.get(n)),r},[]).join(Lu)},e.prototype._parse=function(t){t.length>Eh||(this._internalState=t.split(Lu).reverse().reduce(function(r,n){var o=n.trim(),s=o.indexOf(Mu);if(s!==-1){var a=o.slice(0,s),i=o.slice(s+1,n.length);Nu(a)&&Pu(i)&&r.set(a,i)}return r},new Map),this._internalState.size>Iu&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Iu))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e})()});function yu(e){return new xu(e)}var Uu=_(()=>{Du()});var Z,bu=_(()=>{Ur();Z=et.getInstance()});var S,wu=_(()=>{ft();S=re.instance()});var _h,Vu,Gu=_(()=>{oa();_h=(function(){function e(){}return e.prototype.getMeter=function(t,r,n){return na},e})(),Vu=new _h});var Sa,Bu,Fu=_(()=>{Gu();St();ft();Sa="metrics",Bu=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return Be(Sa,t,re.instance())},e.prototype.getMeterProvider=function(){return ve(Sa)||Vu},e.prototype.getMeter=function(t,r,n){return this.getMeterProvider().getMeter(t,r,n)},e.prototype.disable=function(){Fe(Sa,re.instance())},e})()});var ht,Hu=_(()=>{Fu();ht=Bu.getInstance()});var ku,$u=_(()=>{ku=(function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e})()});function da(e){return e.getValue(fa)||void 0}function Yu(){return da(et.getInstance().active())}function qu(e,t){return e.setValue(fa,t)}function ju(e){return e.deleteValue(fa)}var fa,Ku=_(()=>{Ur();yr();fa=Oe("OpenTelemetry Baggage Key")});var Aa,ph,Xu,Wu=_(()=>{St();$u();sa();Ku();ea();ft();Aa="propagation",ph=new ku,Xu=(function(){function e(){this.createBaggage=uu,this.getBaggage=da,this.getActiveBaggage=Yu,this.setBaggage=qu,this.deleteBaggage=ju}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Be(Aa,t,re.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=ro),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=to),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Fe(Aa,re.instance())},e.prototype._getGlobalPropagator=function(){return ve(Aa)||ph},e})()});var de,zu=_(()=>{Wu();de=Xu.getInstance()});var ha,Ju,Qu=_(()=>{St();la();io();ua();ft();ha="trace",Ju=(function(){function e(){this._proxyTracerProvider=new Gr,this.wrapSpanContext=hu,this.isSpanContextValid=ne,this.deleteSpan=du,this.getSpan=so,this.getActiveSpan=fu,this.getSpanContext=ao,this.setSpan=Vr,this.setSpanContext=Au}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Be(ha,this._proxyTracerProvider,re.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return ve(ha)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Fe(ha,re.instance()),this._proxyTracerProvider=new Gr},e})()});var w,Zu=_(()=>{Qu();w=Ju.getInstance()});var Bt={};Se(Bt,{DiagConsoleLogger:()=>Eu,DiagLogLevel:()=>F,INVALID_SPANID:()=>br,INVALID_SPAN_CONTEXT:()=>Vt,INVALID_TRACEID:()=>wr,ProxyTracer:()=>uo,ProxyTracerProvider:()=>Gr,ROOT_CONTEXT:()=>Qn,SamplingDecision:()=>fe,SpanKind:()=>Gt,SpanStatusCode:()=>rt,TraceFlags:()=>U,ValueType:()=>eo,baggageEntryMetadataFromString:()=>Jn,context:()=>Z,createContextKey:()=>Oe,createNoopMeter:()=>pu,createTraceState:()=>yu,default:()=>lh,defaultTextMapGetter:()=>to,defaultTextMapSetter:()=>ro,diag:()=>S,isSpanContextValid:()=>ne,isValidSpanId:()=>At,isValidTraceId:()=>ye,metrics:()=>ht,propagation:()=>de,trace:()=>w});var lh,O=_(()=>{ea();yr();_u();zn();oa();lu();sa();pa();la();gu();vu();Ou();ia();Uu();io();no();bu();wu();Hu();zu();Zu();lh={context:Z,diag:S,metrics:ht,propagation:de,trace:w}});function Ft(e){return e.setValue(ma,!0)}function eE(e){return e.deleteValue(ma)}function oe(e){return e.getValue(ma)===!0}var ma,Br=_(()=>{O();ma=Oe("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var Eo,tE=_(()=>{Eo="baggage"});function po(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?",":""}${r}`;return n.length>8192?t:n},"")}function lo(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=";"+r.metadata.toString()),n})}function Fr(e){let t=e.split(";");if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.indexOf("=");if(n<=0)return;let o=decodeURIComponent(r.substring(0,n).trim()),s=decodeURIComponent(r.substring(n+1).trim()),a;return t.length>0&&(a=Jn(t.join(";"))),{key:o,value:s,metadata:a}}function nE(e){return typeof e!="string"||e.length===0?{}:e.split(",").map(t=>Fr(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}var Ra=_(()=>{O()});var Ht,oE=_(()=>{O();Br();tE();Ra();Ht=class{inject(t,r,n){let o=de.getBaggage(t);if(!o||oe(t))return;let s=lo(o).filter(i=>i.length<=4096).slice(0,180),a=po(s);a.length>0&&n.set(r,Eo,a)}extract(t,r,n){let o=n.get(r,Eo),s=Array.isArray(o)?o.join(","):o;if(!s)return t;let a={};return s.length===0||(s.split(",").forEach(c=>{let u=Fr(c);if(u){let E={value:u.value};u.metadata&&(E.metadata=u.metadata),a[u.key]=E}}),Object.entries(a).length===0)?t:de.setBaggage(t,de.createBaggage(a))}fields(){return[Eo]}}});var To,sE=_(()=>{To=class{constructor(t,r){this._monotonicClock=r,this._epochMillis=t.now(),this._performanceMillis=r.now()}now(){let t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t}}});function nt(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!ga(r)){S.warn(`Invalid attribute key: ${r}`);continue}if(!Hr(n)){S.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}function ga(e){return typeof e=="string"&&e.length>0}function Hr(e){return e==null?!0:Array.isArray(e)?fh(e):aE(e)}function fh(e){let t;for(let r of e)if(r!=null){if(!t){if(aE(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function aE(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}var iE=_(()=>{O()});function So(){return e=>{S.error(dh(e))}}function dh(e){return typeof e=="string"?e:JSON.stringify(Ah(e))}function Ah(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let o=r[n];o&&(t[n]=String(o))}),r=Object.getPrototypeOf(r);return t}var va=_(()=>{O()});function uE(e){cE=e}function ce(e){try{cE(e)}catch{}}var cE,Oa=_(()=>{va();cE=So()});var Ae,Na=_(()=>{(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(Ae||(Ae={}))});function Rh(e){return mh.indexOf(e)>-1}function vh(e){return gh.indexOf(e)>-1}function Nh(e){return Oh.indexOf(e)>-1}function Ph(e,t,r){if(typeof r[e]>"u")return;let n=String(r[e]);t[e]=n.toLowerCase()==="true"}function Ch(e,t,r,n=-1/0,o=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>o?t[e]=o:t[e]=s)}}function Ih(e,t,r,n=hh){let o=r[e];typeof o=="string"&&(t[e]=o.split(n).map(s=>s.trim()))}function Mh(e,t,r){let n=r[e];if(typeof n=="string"){let o=Lh[n.toUpperCase()];o!=null&&(t[e]=o)}}function $r(e){let t={};for(let r in kr){let n=r;switch(n){case"OTEL_LOG_LEVEL":Mh(n,t,e);break;default:if(Rh(n))Ph(n,t,e);else if(vh(n))Ch(n,t,e);else if(Nh(n))Ih(n,t,e);else{let o=e[n];typeof o<"u"&&o!==null&&(t[n]=String(o))}}}return t}var hh,mh,gh,Oh,mt,Rt,Pa,Ca,kr,Lh,Ia=_(()=>{O();Na();hh=",",mh=["OTEL_SDK_DISABLED"];gh=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];Oh=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];mt=1/0,Rt=128,Pa=128,Ca=128,kr={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:F.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:mt,OTEL_ATTRIBUTE_COUNT_LIMIT:Rt,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:mt,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Rt,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:mt,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Rt,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Pa,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Ca,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Ae.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};Lh={ALL:F.ALL,VERBOSE:F.VERBOSE,DEBUG:F.DEBUG,INFO:F.INFO,WARN:F.WARN,ERROR:F.ERROR,NONE:F.NONE}});function he(){let e=$r(process.env);return Object.assign({},kr,e)}function kt(){return $r(process.env)}var EE=_(()=>{Ia()});var ot,_E=_(()=>{ot=typeof globalThis=="object"?globalThis:global});function pE(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function st(e){let t=new Uint8Array(e.length/2),r=0;for(let n=0;n<e.length;n+=2){let o=pE(e.charCodeAt(n)),s=pE(e.charCodeAt(n+1));t[r++]=o<<4|s}return t}var La=_(()=>{});function fo(e){return Buffer.from(st(e)).toString("base64")}var lE=_(()=>{La()});function TE(e){return function(){for(let r=0;r<e/4;r++)Ao.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(Ao[r]>0);r++)r===e-1&&(Ao[e-1]=1);return Ao.toString("hex",0,e)}}var $t,Ao,SE=_(()=>{$t=class{constructor(){this.generateTraceId=TE(16),this.generateSpanId=TE(8)}},Ao=Buffer.allocUnsafe(16)});import{performance as xh}from"perf_hooks";var Ne,fE=_(()=>{Ne=xh});var ho,Ma=_(()=>{ho="1.30.1"});var Dh,yh,Uh,mo,Ro,dE,AE=_(()=>{Dh="exception.type",yh="exception.message",Uh="exception.stacktrace",mo=Dh,Ro=yh,dE=Uh});var hE=_(()=>{AE()});var bh,wh,Vh,Gh,Bh,Fh,Hh,kh,$h,Yh,qh,jh,Kh,Xh,Wh,zh,Jh,Qh,Zh,mE,RE,gE,vE,OE,NE,PE,CE,IE,LE,ME,Yt,Yr,go,vo,xE,qr,jr,Kr,em,DE,yE=_(()=>{bh="host.id",wh="host.name",Vh="host.arch",Gh="os.type",Bh="os.version",Fh="process.pid",Hh="process.executable.name",kh="process.executable.path",$h="process.command",Yh="process.command_args",qh="process.owner",jh="process.runtime.name",Kh="process.runtime.version",Xh="process.runtime.description",Wh="service.name",zh="service.instance.id",Jh="telemetry.sdk.name",Qh="telemetry.sdk.language",Zh="telemetry.sdk.version",mE=bh,RE=wh,gE=Vh,vE=Gh,OE=Bh,NE=Fh,PE=Hh,CE=kh,IE=$h,LE=Yh,ME=qh,Yt=jh,Yr=Kh,go=Xh,vo=Wh,xE=zh,qr=Jh,jr=Qh,Kr=Zh,em="nodejs",DE=em});var UE=_(()=>{yE()});var bE=_(()=>{});var wE=_(()=>{});var He=_(()=>{hE();UE();bE();wE()});var at,VE=_(()=>{Ma();He();at={[qr]:"opentelemetry",[Yt]:"node",[jr]:DE,[Kr]:ho}});function qt(e){e.unref()}var GE=_(()=>{});var BE=_(()=>{EE();_E();lE();SE();fE();VE();GE()});var xa=_(()=>{BE()});function Ue(e){let t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*rm);return[r,n]}function jt(){let e=Ne.timeOrigin;if(typeof e!="number"){let t=Ne;e=t.timing&&t.timing.fetchStart}return e}function Xr(e){let t=Ue(jt()),r=Ue(typeof e=="number"?e:Ne.now());return Jr(t,r)}function HE(e){if(Kt(e))return e;if(typeof e=="number")return e<jt()?Xr(e):Ue(e);if(e instanceof Date)return Ue(e.getTime());throw TypeError("Invalid input type")}function No(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Oo),[r,n]}function kE(e){let t=FE,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substring(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}function Po(e){return e[0]*Oo+e[1]}function $E(e){return e[0]*1e3+e[1]/1e6}function Wr(e){return e[0]*1e6+e[1]/1e3}function Kt(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function zr(e){return Kt(e)||typeof e=="number"||e instanceof Date}function Jr(e,t){let r=[e[0]+t[0],e[1]+t[1]];return r[1]>=Oo&&(r[1]-=Oo,r[0]+=1),r}var FE,tm,rm,Oo,YE=_(()=>{xa();FE=9,tm=6,rm=Math.pow(10,tm),Oo=Math.pow(10,FE)});var se,qE=_(()=>{(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(se||(se={}))});var Xt,jE=_(()=>{O();Xt=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,o)=>n.concat(o),[])))}inject(t,r,n){for(let o of this._propagators)try{o.inject(t,r,n)}catch(s){S.warn(`Failed to inject with ${o.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((o,s)=>{try{return s.extract(o,r,n)}catch(a){S.warn(`Failed to extract with ${s.constructor.name}. Err: ${a.message}`)}return o},t)}fields(){return this._fields.slice()}}});function KE(e){return sm.test(e)}function XE(e){return am.test(e)&&!im.test(e)}var Da,nm,om,sm,am,im,WE=_(()=>{Da="[_0-9a-z-*/]",nm=`[a-z]${Da}{0,255}`,om=`[a-z0-9]${Da}{0,240}@[a-z]${Da}{0,13}`,sm=new RegExp(`^(?:${nm}|${om})$`),am=/^[ -~]{0,255}[!-~]$/,im=/,|=/});var zE,cm,JE,QE,Wt,ya=_(()=>{WE();zE=32,cm=512,JE=",",QE="=",Wt=class e{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+QE+this.get(r)),t),[]).join(JE)}_parse(t){t.length>cm||(this._internalState=t.split(JE).reverse().reduce((r,n)=>{let o=n.trim(),s=o.indexOf(QE);if(s!==-1){let a=o.slice(0,s),i=o.slice(s+1,n.length);KE(a)&&XE(i)&&r.set(a,i)}return r},new Map),this._internalState.size>zE&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,zE))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new e;return t._internalState=new Map(this._internalState),t}}});function Ua(e){let t=Tm.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var Qr,Zr,um,Em,_m,pm,lm,Tm,zt,ZE=_(()=>{O();Br();ya();Qr="traceparent",Zr="tracestate",um="00",Em="(?!ff)[\\da-f]{2}",_m="(?![0]{32})[\\da-f]{32}",pm="(?![0]{16})[\\da-f]{16}",lm="[\\da-f]{2}",Tm=new RegExp(`^\\s?(${Em})-(${_m})-(${pm})-(${lm})(-.*)?\\s?$`);zt=class{inject(t,r,n){let o=w.getSpanContext(t);if(!o||oe(t)||!ne(o))return;let s=`${um}-${o.traceId}-${o.spanId}-0${Number(o.traceFlags||U.NONE).toString(16)}`;n.set(r,Qr,s),o.traceState&&n.set(r,Zr,o.traceState.serialize())}extract(t,r,n){let o=n.get(r,Qr);if(!o)return t;let s=Array.isArray(o)?o[0]:o;if(typeof s!="string")return t;let a=Ua(s);if(!a)return t;a.isRemote=!0;let i=n.get(r,Zr);if(i){let c=Array.isArray(i)?i.join(","):i;a.traceState=new Wt(typeof c=="string"?c:void 0)}return w.setSpanContext(t,a)}fields(){return[Qr,Zr]}}});function e_(e,t){return e.setValue(ba,t)}function t_(e){return e.deleteValue(ba)}function r_(e){return e.getValue(ba)}var ba,Co,n_=_(()=>{O();ba=Oe("OpenTelemetry SDK Context Key RPC_METADATA");(function(e){e.HTTP="http"})(Co||(Co={}))});var gt,wa=_(()=>{O();gt=class{shouldSample(){return{decision:fe.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var it,Va=_(()=>{O();it=class{shouldSample(){return{decision:fe.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var Io,o_=_(()=>{O();Oa();wa();Va();Io=class{constructor(t){var r,n,o,s;this._root=t.root,this._root||(ce(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new it),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new it,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new gt,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new it,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new gt}shouldSample(t,r,n,o,s,a){let i=w.getSpanContext(t);return!i||!ne(i)?this._root.shouldSample(t,r,n,o,s,a):i.isRemote?i.traceFlags&U.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,o,s,a):this._remoteParentNotSampled.shouldSample(t,r,n,o,s,a):i.traceFlags&U.SAMPLED?this._localParentSampled.shouldSample(t,r,n,o,s,a):this._localParentNotSampled.shouldSample(t,r,n,o,s,a)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var Lo,s_=_(()=>{O();Lo=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:ye(r)&&this._accumulate(r)<this._upperBound?fe.RECORD_AND_SAMPLED:fe.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let o=n*8,s=parseInt(t.slice(o,o+8),16);r=(r^s)>>>0}return r}}});function Rm(e,t){return function(r){return e(t(r))}}function Ga(e){if(!gm(e)||vm(e)!==Sm)return!1;let t=mm(e);if(t===null)return!0;let r=c_.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&a_.call(r)===hm}function gm(e){return e!=null&&typeof e=="object"}function vm(e){return e==null?e===void 0?dm:fm:vt&&vt in Object(e)?Om(e):Nm(e)}function Om(e){let t=c_.call(e,vt),r=e[vt],n=!1;try{e[vt]=void 0,n=!0}catch{}let o=u_.call(e);return n&&(t?e[vt]=r:delete e[vt]),o}function Nm(e){return u_.call(e)}var Sm,fm,dm,Am,a_,hm,mm,i_,c_,vt,u_,E_=_(()=>{Sm="[object Object]",fm="[object Null]",dm="[object Undefined]",Am=Function.prototype,a_=Am.toString,hm=a_.call(Object),mm=Rm(Object.getPrototypeOf,Object),i_=Object.prototype,c_=i_.hasOwnProperty,vt=Symbol?Symbol.toStringTag:void 0,u_=i_.toString});function Do(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=p_(t,e.shift(),0,r);return t}function Ba(e){return xo(e)?e.slice():e}function p_(e,t,r=0,n){let o;if(!(r>Pm)){if(r++,Mo(e)||Mo(t)||l_(t))o=Ba(t);else if(xo(e)){if(o=e.slice(),xo(t))for(let s=0,a=t.length;s<a;s++)o.push(Ba(t[s]));else if(en(t)){let s=Object.keys(t);for(let a=0,i=s.length;a<i;a++){let c=s[a];o[c]=Ba(t[c])}}}else if(en(e))if(en(t)){if(!Cm(e,t))return t;o=Object.assign({},e);let s=Object.keys(t);for(let a=0,i=s.length;a<i;a++){let c=s[a],u=t[c];if(Mo(u))typeof u>"u"?delete o[c]:o[c]=u;else{let E=o[c],p=u;if(__(e,c,n)||__(t,c,n))delete o[c];else{if(en(E)&&en(p)){let l=n.get(E)||[],T=n.get(p)||[];l.push({obj:e,key:c}),T.push({obj:t,key:c}),n.set(E,l),n.set(p,T)}o[c]=p_(o[c],u,r,n)}}}}else o=t;return o}}function __(e,t,r){let n=r.get(e[t])||[];for(let o=0,s=n.length;o<s;o++){let a=n[o];if(a.key===t&&a.obj===e)return!0}return!1}function xo(e){return Array.isArray(e)}function l_(e){return typeof e=="function"}function en(e){return!Mo(e)&&!xo(e)&&!l_(e)&&typeof e=="object"}function Mo(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function Cm(e,t){return!(!Ga(e)||!Ga(t))}var Pm,T_=_(()=>{E_();Pm=20});function S_(e,t){let r,n=new Promise(function(s,a){r=setTimeout(function(){a(new tn("Operation timed out."))},t)});return Promise.race([e,n]).then(o=>(clearTimeout(r),o),o=>{throw clearTimeout(r),o})}var tn,f_=_(()=>{tn=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});function Fa(e,t){return typeof t=="string"?e===t:!!e.match(t)}function d_(e,t){if(!t)return!1;for(let r of t)if(Fa(e,r))return!0;return!1}var A_=_(()=>{});function h_(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var m_=_(()=>{});var yo,R_=_(()=>{yo=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}}});var ke,g_=_(()=>{R_();ke=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new yo}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}}});function v_(e,t){return new Promise(r=>{Z.with(Ft(Z.active()),()=>{e.export(t,n=>{r(n)})})})}var O_=_(()=>{O();Br()});var N_={};Se(N_,{AlwaysOffSampler:()=>gt,AlwaysOnSampler:()=>it,AnchoredClock:()=>To,BindOnceFuture:()=>ke,CompositePropagator:()=>Xt,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>Rt,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>mt,DEFAULT_ENVIRONMENT:()=>kr,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>Pa,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>Ca,ExportResultCode:()=>se,ParentBasedSampler:()=>Io,RPCType:()=>Co,RandomIdGenerator:()=>$t,SDK_INFO:()=>at,TRACE_PARENT_HEADER:()=>Qr,TRACE_STATE_HEADER:()=>Zr,TimeoutError:()=>tn,TraceIdRatioBasedSampler:()=>Lo,TraceState:()=>Wt,TracesSamplerValues:()=>Ae,VERSION:()=>ho,W3CBaggagePropagator:()=>Ht,W3CTraceContextPropagator:()=>zt,_globalThis:()=>ot,addHrTimes:()=>Jr,baggageUtils:()=>Im,callWithTimeout:()=>S_,deleteRPCMetadata:()=>t_,getEnv:()=>he,getEnvWithoutDefaults:()=>kt,getRPCMetadata:()=>r_,getTimeOrigin:()=>jt,globalErrorHandler:()=>ce,hexToBase64:()=>fo,hexToBinary:()=>st,hrTime:()=>Xr,hrTimeDuration:()=>No,hrTimeToMicroseconds:()=>Wr,hrTimeToMilliseconds:()=>$E,hrTimeToNanoseconds:()=>Po,hrTimeToTimeStamp:()=>kE,internal:()=>Ha,isAttributeKey:()=>ga,isAttributeValue:()=>Hr,isTimeInput:()=>zr,isTimeInputHrTime:()=>Kt,isTracingSuppressed:()=>oe,isUrlIgnored:()=>d_,isWrapped:()=>h_,loggingErrorHandler:()=>So,merge:()=>Do,millisToHrTime:()=>Ue,otperformance:()=>Ne,parseEnvironment:()=>$r,parseTraceParent:()=>Ua,sanitizeAttributes:()=>nt,setGlobalErrorHandler:()=>uE,setRPCMetadata:()=>e_,suppressTracing:()=>Ft,timeInputToHrTime:()=>HE,unrefTimer:()=>qt,unsuppressTracing:()=>eE,urlMatches:()=>Fa});var Im,Ha,K=_(()=>{oE();sE();iE();Oa();va();YE();La();qE();Ra();xa();jE();ZE();n_();wa();Va();o_();s_();Br();ya();Ia();T_();Na();f_();A_();m_();g_();Ma();O_();Im={getKeyPairs:lo,serializeKeyPairs:po,parseKeyPairsIntoRecord:nE,parsePairKeyValue:Fr},Ha={_export:v_}});function Jt(){return`unknown_service:${process.argv0}`}var b_=_(()=>{});var w_=_(()=>{b_()});var ka=_(()=>{w_()});var B,We=_(()=>{O();He();K();ka();B=class e{constructor(t,r){var n;this._attributes=t,this.asyncAttributesPending=r!=null,this._syncAttributes=(n=this._attributes)!==null&&n!==void 0?n:{},this._asyncAttributesPromise=r==null?void 0:r.then(o=>(this._attributes=Object.assign({},this._attributes,o),this.asyncAttributesPending=!1,o),o=>(S.debug("a resource's async attributes promise rejected: %s",o),this.asyncAttributesPending=!1,{}))}static empty(){return e.EMPTY}static default(){return new e({[vo]:Jt(),[jr]:at[jr],[qr]:at[qr],[Kr]:at[Kr]})}get attributes(){var t;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(t){var r;if(!t)return this;let n=Object.assign(Object.assign({},this._syncAttributes),(r=t._syncAttributes)!==null&&r!==void 0?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(n);let o=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(([s,a])=>{var i;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),s),(i=t._syncAttributes)!==null&&i!==void 0?i:t.attributes),a)});return new e(n,o)}};B.EMPTY=new B({})});var V_,G_,$a=_(()=>{V_=e=>{switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}},G_=e=>{switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}});import*as B_ from"child_process";import*as F_ from"util";var Qt,Uo=_(()=>{Qt=F_.promisify(B_.exec)});var H_={};Se(H_,{getMachineId:()=>ym});async function ym(){try{let t=(await Qt('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(n=>n.includes("IOPlatformUUID"));if(!t)return"";let r=t.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(e){S.debug(`error reading machine id: ${e}`)}return""}var k_=_(()=>{Uo();O()});var $_={};Se($_,{getMachineId:()=>bm});import{promises as Um}from"fs";async function bm(){let e=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let t of e)try{return(await Um.readFile(t,{encoding:"utf8"})).trim()}catch(r){S.debug(`error reading machine id: ${r}`)}return""}var Y_=_(()=>{O()});var q_={};Se(q_,{getMachineId:()=>Vm});import{promises as wm}from"fs";async function Vm(){try{return(await wm.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(e){S.debug(`error reading machine id: ${e}`)}try{return(await Qt("kenv -q smbios.system.uuid")).stdout.trim()}catch(e){S.debug(`error reading machine id: ${e}`)}return""}var j_=_(()=>{Uo();O()});var K_={};Se(K_,{getMachineId:()=>Gm});import*as bo from"process";async function Gm(){let e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe";bo.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in bo.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t);try{let n=(await Qt(`${t} ${e}`)).stdout.split("REG_SZ");if(n.length===2)return n[1].trim()}catch(r){S.debug(`error reading machine id: ${r}`)}return""}var X_=_(()=>{Uo();O()});var W_={};Se(W_,{getMachineId:()=>Bm});async function Bm(){return S.debug("could not read machine-id: unsupported platform"),""}var z_=_(()=>{O()});import*as J_ from"process";var Ot,Q_=_(()=>{switch(J_.platform){case"darwin":({getMachineId:Ot}=(k_(),De(H_)));break;case"linux":({getMachineId:Ot}=(Y_(),De($_)));break;case"freebsd":({getMachineId:Ot}=(j_(),De(q_)));break;case"win32":({getMachineId:Ot}=(X_(),De(K_)));break;default:({getMachineId:Ot}=(z_(),De(W_)))}});import{arch as Fm,hostname as Hm}from"os";var Ya,Nt,qa=_(()=>{He();We();$a();Q_();Ya=class{detect(t){let r={[RE]:Hm(),[gE]:V_(Fm())};return new B(r,this._getAsyncAttributes())}_getAsyncAttributes(){return Ot().then(t=>{let r={};return t&&(r[mE]=t),r})}},Nt=new Ya});var ja,nn,Z_=_(()=>{qa();ja=class{detect(t){return Promise.resolve(Nt.detect(t))}},nn=new ja});import{platform as km,release as $m}from"os";var Ka,Pt,Xa=_(()=>{He();We();$a();Ka=class{detect(t){let r={[vE]:G_(km()),[OE]:$m()};return new B(r)}},Pt=new Ka});var Wa,on,ep=_(()=>{Xa();Wa=class{detect(t){return Promise.resolve(Pt.detect(t))}},on=new Wa});import*as tp from"os";var za,Ct,Ja=_(()=>{O();He();We();za=class{detect(t){let r={[NE]:process.pid,[PE]:process.title,[CE]:process.execPath,[LE]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Yr]:process.versions.node,[Yt]:"nodejs",[go]:"Node.js"};process.argv.length>1&&(r[IE]=process.argv[1]);try{let n=tp.userInfo();r[ME]=n.username}catch(n){S.debug(`error obtaining process owner: ${n}`)}return new B(r)}},Ct=new za});var Qa,sn,rp=_(()=>{Ja();Qa=class{detect(t){return Promise.resolve(Ct.detect(t))}},sn=new Qa});import{randomUUID as Ym}from"crypto";var Za,an,np=_(()=>{He();We();Za=class{detect(t){let r={[xE]:Ym()};return new B(r)}},an=new Za});var op=_(()=>{Z_();qa();ep();Xa();rp();Ja();np()});var sp=_(()=>{op()});var ei,cn,ti=_(()=>{He();O();We();ei=class{detect(t){var r,n,o;if(!(typeof navigator<"u"&&((n=(r=global.process)===null||r===void 0?void 0:r.versions)===null||n===void 0?void 0:n.node)===void 0&&((o=global.Bun)===null||o===void 0?void 0:o.version)===void 0))return B.empty();let a={[Yt]:"browser",[go]:"Web Browser",[Yr]:navigator.userAgent};return this._getResourceAttributes(a,t)}_getResourceAttributes(t,r){return t[Yr]===""?(S.debug("BrowserDetector failed: Unable to find required browser resources. "),B.empty()):new B(Object.assign({},t))}},cn=new ei});var ri,ni,ap=_(()=>{ti();ri=class{detect(t){return Promise.resolve(cn.detect(t))}},ni=new ri});var oi,un,si=_(()=>{O();K();He();We();oi=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(t){let r={},n=he(),o=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(o)try{let a=this._parseResourceAttributes(o);Object.assign(r,a)}catch(a){S.debug(`EnvDetector failed: ${a.message}`)}return s&&(r[vo]=s),new B(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let o of n){let s=o.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[a,i]=s;if(a=a.trim(),i=i.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(a))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(i))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[a]=decodeURIComponent(i)}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isBaggageOctetString(t)}_isBaggageOctetString(t){for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}},un=new oi});var ai,ii,ip=_(()=>{si();ai=class{detect(t){return Promise.resolve(un.detect(t))}},ii=new ai});var cp=_(()=>{sp();ap();ip();ti();si()});var up,Ep=_(()=>{up=e=>e!==null&&typeof e=="object"&&typeof e.then=="function"});var _p,pp,lp,Tp=_(()=>{We();O();Ep();_p=async(e={})=>{let t=await Promise.all((e.detectors||[]).map(async r=>{try{let n=await r.detect(e);return S.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return S.debug(`${r.constructor.name} failed: ${n.message}`),B.empty()}}));return lp(t),t.reduce((r,n)=>r.merge(n),B.empty())},pp=(e={})=>{var t;let r=((t=e.detectors)!==null&&t!==void 0?t:[]).map(o=>{try{let s=o.detect(e),a;if(up(s)){let i=async()=>{var c;let u=await s;return await((c=u.waitForAsyncAttributes)===null||c===void 0?void 0:c.call(u)),u.attributes};a=new B({},i())}else a=s;return a.waitForAsyncAttributes?a.waitForAsyncAttributes().then(()=>S.debug(`${o.constructor.name} found resource.`,a)):S.debug(`${o.constructor.name} found resource.`,a),a}catch(s){return S.error(`${o.constructor.name} failed: ${s.message}`),B.empty()}}),n=r.reduce((o,s)=>o.merge(s),B.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then(()=>{lp(r)}),n},lp=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=JSON.stringify(t.attributes,null,4);S.verbose(r)}})}});var Sp={};Se(Sp,{Resource:()=>B,browserDetector:()=>ni,browserDetectorSync:()=>cn,defaultServiceName:()=>Jt,detectResources:()=>_p,detectResourcesSync:()=>pp,envDetector:()=>ii,envDetectorSync:()=>un,hostDetector:()=>nn,hostDetectorSync:()=>Nt,osDetector:()=>on,osDetectorSync:()=>Pt,processDetector:()=>sn,processDetectorSync:()=>Ct,serviceInstanceIdDetectorSync:()=>an});var ci=_(()=>{We();ka();cp();Tp()});var Ei=f(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.AbstractAsyncHooksContextManager=void 0;var zm=G("events"),Jm=["addListener","on","once","prependListener","prependOnceListener"],ui=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(t,r){return r instanceof zm.EventEmitter?this._bindEventEmitter(t,r):typeof r=="function"?this._bindFunction(t,r):r}_bindFunction(t,r){let n=this,o=function(...s){return n.with(t,()=>r.apply(this,s))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),o}_bindEventEmitter(t,r){return this._getPatchMap(r)!==void 0||(this._createPatchMap(r),Jm.forEach(o=>{r[o]!==void 0&&(r[o]=this._patchAddListener(r,r[o],t))}),typeof r.removeListener=="function"&&(r.removeListener=this._patchRemoveListener(r,r.removeListener)),typeof r.off=="function"&&(r.off=this._patchRemoveListener(r,r.off)),typeof r.removeAllListeners=="function"&&(r.removeAllListeners=this._patchRemoveAllListeners(r,r.removeAllListeners))),r}_patchRemoveListener(t,r){let n=this;return function(o,s){var a;let i=(a=n._getPatchMap(t))===null||a===void 0?void 0:a[o];if(i===void 0)return r.call(this,o,s);let c=i.get(s);return r.call(this,o,c||s)}}_patchRemoveAllListeners(t,r){let n=this;return function(o){let s=n._getPatchMap(t);return s!==void 0&&(arguments.length===0?n._createPatchMap(t):s[o]!==void 0&&delete s[o]),r.apply(this,arguments)}}_patchAddListener(t,r,n){let o=this;return function(s,a){if(o._wrapped)return r.call(this,s,a);let i=o._getPatchMap(t);i===void 0&&(i=o._createPatchMap(t));let c=i[s];c===void 0&&(c=new WeakMap,i[s]=c);let u=o.bind(n,a);c.set(a,u),o._wrapped=!0;try{return r.call(this,s,u)}finally{o._wrapped=!1}}}_createPatchMap(t){let r=Object.create(null);return t[this._kOtListeners]=r,r}_getPatchMap(t){return t[this._kOtListeners]}};Vo.AbstractAsyncHooksContextManager=ui});var dp=f(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.AsyncHooksContextManager=void 0;var Qm=(O(),De(Bt)),Zm=G("async_hooks"),eR=Ei(),_i=class extends eR.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=Zm.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var t;return(t=this._stack[this._stack.length-1])!==null&&t!==void 0?t:Qm.ROOT_CONTEXT}with(t,r,n,...o){this._enterContext(t);try{return r.call(n,...o)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(t,r){if(r==="TIMERWRAP")return;let n=this._stack[this._stack.length-1];n!==void 0&&this._contexts.set(t,n)}_destroy(t){this._contexts.delete(t)}_before(t){let r=this._contexts.get(t);r!==void 0&&this._enterContext(r)}_after(){this._exitContext()}_enterContext(t){this._stack.push(t)}_exitContext(){this._stack.pop()}};Go.AsyncHooksContextManager=_i});var Ap=f(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.AsyncLocalStorageContextManager=void 0;var tR=(O(),De(Bt)),rR=G("async_hooks"),nR=Ei(),pi=class extends nR.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new rR.AsyncLocalStorage}active(){var t;return(t=this._asyncLocalStorage.getStore())!==null&&t!==void 0?t:tR.ROOT_CONTEXT}with(t,r,n,...o){let s=n==null?r:r.bind(n);return this._asyncLocalStorage.run(t,s,...o)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};Bo.AsyncLocalStorageContextManager=pi});var hp=f(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.AsyncLocalStorageContextManager=Zt.AsyncHooksContextManager=void 0;var oR=dp();Object.defineProperty(Zt,"AsyncHooksContextManager",{enumerable:!0,get:function(){return oR.AsyncHooksContextManager}});var sR=Ap();Object.defineProperty(Zt,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return sR.AsyncLocalStorageContextManager}})});var er,li=_(()=>{O();er=Oe("OpenTelemetry Context Key B3 Debug Flag")});var tr,rr,nr,or,Fo,sr,Ti=_(()=>{tr="b3",rr="x-b3-traceid",nr="x-b3-spanid",or="x-b3-sampled",Fo="x-b3-parentspanid",sr="x-b3-flags"});function cR(e){return e===U.SAMPLED||e===U.NONE}function uR(e){return Array.isArray(e)?e[0]:e}function ko(e,t,r){let n=t.get(e,r);return uR(n)}function ER(e,t){let r=ko(e,t,rr);return typeof r=="string"?r.padStart(32,"0"):""}function _R(e,t){let r=ko(e,t,nr);return typeof r=="string"?r:""}function mp(e,t){return ko(e,t,sr)==="1"?"1":void 0}function pR(e,t){let r=ko(e,t,or);if(mp(e,t)==="1"||aR.has(r))return U.SAMPLED;if(r===void 0||iR.has(r))return U.NONE}var aR,iR,Ho,Rp=_(()=>{O();K();li();Ti();aR=new Set([!0,"true","True","1",1]),iR=new Set([!1,"false","False","0",0]);Ho=class{inject(t,r,n){let o=w.getSpanContext(t);if(!o||!ne(o)||oe(t))return;let s=t.getValue(er);n.set(r,rr,o.traceId),n.set(r,nr,o.spanId),s==="1"?n.set(r,sr,s):o.traceFlags!==void 0&&n.set(r,or,(U.SAMPLED&o.traceFlags)===U.SAMPLED?"1":"0")}extract(t,r,n){let o=ER(r,n),s=_R(r,n),a=pR(r,n),i=mp(r,n);return ye(o)&&At(s)&&cR(a)?(t=t.setValue(er,i),w.setSpanContext(t,{traceId:o,spanId:s,isRemote:!0,traceFlags:a})):t}fields(){return[rr,nr,sr,or,Fo]}}});function dR(e){return e.length===32?e:`${TR}${e}`}function AR(e){return e&&SR.has(e)?U.SAMPLED:U.NONE}var lR,TR,SR,fR,$o,gp=_(()=>{O();K();li();lR=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,TR="0".repeat(16),SR=new Set(["d","1"]),fR="d";$o=class{inject(t,r,n){let o=w.getSpanContext(t);if(!o||!ne(o)||oe(t))return;let s=t.getValue(er)||o.traceFlags&1,a=`${o.traceId}-${o.spanId}-${s}`;n.set(r,"b3",a)}extract(t,r,n){let o=n.get(r,"b3"),s=Array.isArray(o)?o[0]:o;if(typeof s!="string")return t;let a=s.match(lR);if(!a)return t;let[,i,c,u]=a,E=dR(i);if(!ye(E)||!At(c))return t;let p=AR(u);return u===fR&&(t=t.setValue(er,u)),w.setSpanContext(t,{traceId:E,spanId:c,isRemote:!0,traceFlags:p})}fields(){return["b3"]}}});var ar,Si=_(()=>{(function(e){e[e.SINGLE_HEADER=0]="SINGLE_HEADER",e[e.MULTI_HEADER=1]="MULTI_HEADER"})(ar||(ar={}))});var Yo,vp=_(()=>{K();Rp();gp();Si();Yo=class{constructor(t={}){this._b3MultiPropagator=new Ho,this._b3SinglePropagator=new $o,t.injectEncoding===ar.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(t,r,n){oe(t)||this._inject(t,r,n)}extract(t,r,n){let o=n.get(r,"b3");return(Array.isArray(o)?o[0]:o)?this._b3SinglePropagator.extract(t,r,n):this._b3MultiPropagator.extract(t,r,n)}fields(){return this._fields}}});var Op={};Se(Op,{B3InjectEncoding:()=>ar,B3Propagator:()=>Yo,B3_CONTEXT_HEADER:()=>tr,X_B3_FLAGS:()=>sr,X_B3_PARENT_SPAN_ID:()=>Fo,X_B3_SAMPLED:()=>or,X_B3_SPAN_ID:()=>nr,X_B3_TRACE_ID:()=>rr});var Np=_(()=>{vp();Ti();Si()});var Pp,Cp=_(()=>{Pp="exception"});var ir,fi=_(()=>{O();K();He();Cp();ir=class{constructor(t,r,n,o,s,a,i=[],c,u,E){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:rt.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=o,this.parentSpanId=a,this.kind=s,this.links=i;let p=Date.now();this._performanceStartTime=Ne.now(),this._performanceOffset=p-(this._performanceStartTime+jt()),this._startTimeProvided=c!=null,this.startTime=this._getTime(c??p),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,E!=null&&this.setAttributes(E),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(S.warn(`Invalid attribute key: ${t}`),this):Hr(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(r),this):(S.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return S.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&S.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),zr(r)&&(zr(n)||(n=r),r=void 0);let o=nt(r);return this.events.push({name:t,attributes:o,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(t){return this.links.push(t),this}addLinks(t){return this.links.push(...t),this}setStatus(t){return this._isSpanEnded()?this:(this.status=Object.assign({},t),this.status.message!=null&&typeof t.message!="string"&&(S.warn(`Dropping invalid status.message of type '${typeof t.message}', expected 'string'`),delete this.status.message),this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t){if(this._isSpanEnded()){S.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(t),this._duration=No(this.startTime,this.endTime),this._duration[0]<0&&(S.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&S.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(t){if(typeof t=="number"&&t<=Ne.now())return Xr(t+this._performanceOffset);if(typeof t=="number")return Ue(t);if(t instanceof Date)return Ue(t.getTime());if(Kt(t))return t;if(this._startTimeProvided)return Ue(Date.now());let r=Ne.now()-this._performanceStartTime;return Jr(this.startTime,Ue(r))}isRecording(){return this._ended===!1}recordException(t,r){let n={};typeof t=="string"?n[Ro]=t:t&&(t.code?n[mo]=t.code.toString():t.name&&(n[mo]=t.name),t.message&&(n[Ro]=t.message),t.stack&&(n[dE]=t.stack)),n[mo]||n[Ro]?this.addEvent(Pp,n,r):S.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&S.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substring(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(S.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}}});var be,En=_(()=>{(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(be||(be={}))});var $e,qo=_(()=>{En();$e=class{shouldSample(){return{decision:be.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var Pe,jo=_(()=>{En();Pe=class{shouldSample(){return{decision:be.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var ct,di=_(()=>{O();K();qo();jo();ct=class{constructor(t){var r,n,o,s;this._root=t.root,this._root||(ce(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Pe),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Pe,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new $e,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new Pe,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new $e}shouldSample(t,r,n,o,s,a){let i=w.getSpanContext(t);return!i||!ne(i)?this._root.shouldSample(t,r,n,o,s,a):i.isRemote?i.traceFlags&U.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,o,s,a):this._remoteParentNotSampled.shouldSample(t,r,n,o,s,a):i.traceFlags&U.SAMPLED?this._localParentSampled.shouldSample(t,r,n,o,s,a):this._localParentNotSampled.shouldSample(t,r,n,o,s,a)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var It,Ai=_(()=>{O();En();It=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:ye(r)&&this._accumulate(r)<this._upperBound?be.RECORD_AND_SAMPLED:be.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let o=n*8,s=parseInt(t.slice(o,o+8),16);r=(r^s)>>>0}return r}}});function Ko(){let e=he();return{sampler:hi(e),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:e.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:e.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:e.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:e.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function hi(e=he()){switch(e.OTEL_TRACES_SAMPLER){case Ae.AlwaysOn:return new Pe;case Ae.AlwaysOff:return new $e;case Ae.ParentBasedAlwaysOn:return new ct({root:new Pe});case Ae.ParentBasedAlwaysOff:return new ct({root:new $e});case Ae.TraceIdRatio:return new It(Ip(e));case Ae.ParentBasedTraceIdRatio:return new ct({root:new It(Ip(e))});default:return S.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${hR}".`),new Pe}}function Ip(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return S.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${cr}.`),cr;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(S.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${cr}.`),cr):t<0||t>1?(S.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${cr}.`),cr):t}var hR,cr,mi=_(()=>{O();K();qo();jo();di();Ai();hR=Ae.AlwaysOn,cr=1});function Lp(e){let t={sampler:hi()},r=Ko(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}function Mp(e){var t,r,n,o,s,a,i,c,u,E,p,l;let T=Object.assign({},e.spanLimits),m=kt();return T.attributeCountLimit=(a=(s=(o=(r=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&r!==void 0?r:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&o!==void 0?o:m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:m.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:Rt,T.attributeValueLengthLimit=(l=(p=(E=(c=(i=e.spanLimits)===null||i===void 0?void 0:i.attributeValueLengthLimit)!==null&&c!==void 0?c:(u=e.generalLimits)===null||u===void 0?void 0:u.attributeValueLengthLimit)!==null&&E!==void 0?E:m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&l!==void 0?l:mt,Object.assign({},e,{spanLimits:T})}var Ri=_(()=>{mi();K()});var Xo,xp=_(()=>{O();K();Xo=class{constructor(t,r){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let n=he();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new ke(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(S.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&U.SAMPLED)!==0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&S.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(S.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()}_flushAll(){return new Promise((t,r)=>{let n=[],o=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,a=o;s<a;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Z.with(Ft(Z.active()),()=>{let o;this._finishedSpans.length<=this._maxExportBatchSize?(o=this._finishedSpans,this._finishedSpans=[]):o=this._finishedSpans.splice(0,this._maxExportBatchSize);let s=()=>this._exporter.export(o,i=>{var c;clearTimeout(n),i.code===se.SUCCESS?t():r((c=i.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))}),a=null;for(let i=0,c=o.length;i<c;i++){let u=o[i];u.resource.asyncAttributesPending&&u.resource.waitForAsyncAttributes&&(a??(a=[]),a.push(u.resource.waitForAsyncAttributes()))}a===null?s():Promise.all(a).then(s,i=>{ce(i),r(i)})})})}_maybeStartTimer(){if(this._isExporting)return;let t=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,ce(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(()=>t(),this._scheduledDelayMillis),qt(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}}});var ut,Dp=_(()=>{xp();ut=class extends Xo{onShutdown(){}}});function yp(e){return function(){for(let r=0;r<e/4;r++)Wo.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(Wo[r]>0);r++)r===e-1&&(Wo[e-1]=1);return Wo.toString("hex",0,e)}}var Et,Wo,Up=_(()=>{Et=class{constructor(){this.generateTraceId=yp(16),this.generateSpanId=yp(8)}},Wo=Buffer.allocUnsafe(16)});var bp=_(()=>{Dp();Up()});var zo=_(()=>{bp()});var ur,gi=_(()=>{O();K();fi();Ri();zo();ur=class{constructor(t,r,n){this._tracerProvider=n;let o=Lp(r);this._sampler=o.sampler,this._generalLimits=o.generalLimits,this._spanLimits=o.spanLimits,this._idGenerator=r.idGenerator||new Et,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=Z.active()){var o,s,a;r.root&&(n=w.deleteSpan(n));let i=w.getSpan(n);if(oe(n))return S.debug("Instrumentation suppressed, returning Noop Span"),w.wrapSpanContext(Vt);let c=i==null?void 0:i.spanContext(),u=this._idGenerator.generateSpanId(),E,p,l;!c||!w.isSpanContextValid(c)?E=this._idGenerator.generateTraceId():(E=c.traceId,p=c.traceState,l=c.spanId);let T=(o=r.kind)!==null&&o!==void 0?o:Gt.INTERNAL,m=((s=r.links)!==null&&s!==void 0?s:[]).map(y=>({context:y.context,attributes:nt(y.attributes)})),v=nt(r.attributes),R=this._sampler.shouldSample(n,E,t,T,v,m);p=(a=R.traceState)!==null&&a!==void 0?a:p;let V=R.decision===fe.RECORD_AND_SAMPLED?U.SAMPLED:U.NONE,x={traceId:E,spanId:u,traceFlags:V,traceState:p};if(R.decision===fe.NOT_RECORD)return S.debug("Recording is off, propagating context in a non-recording span"),w.wrapSpanContext(x);let g=nt(Object.assign(v,R.attributes));return new ir(this,n,t,x,T,l,m,r.startTime,void 0,g)}startActiveSpan(t,r,n,o){let s,a,i;if(arguments.length<2)return;arguments.length===2?i=r:arguments.length===3?(s=r,i=n):(s=r,a=n,i=o);let c=a??Z.active(),u=this.startSpan(t,s,c),E=w.setSpan(c,u);return Z.with(E,i,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}});var _n,wp=_(()=>{K();_n=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{ce(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}}});var Er,vi=_(()=>{Er=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}});var ze,_r,Vp=_(()=>{O();K();ci();gi();mi();wp();vi();zo();Ri();(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(ze||(ze={}));_r=class{constructor(t={}){var r,n;this._registeredSpanProcessors=[],this._tracers=new Map;let o=Do({},Ko(),Mp(t));if(this.resource=(r=o.resource)!==null&&r!==void 0?r:B.empty(),o.mergeResourceWithDefaults&&(this.resource=B.default().merge(this.resource)),this._config=Object.assign({},o,{resource:this.resource}),!((n=t.spanProcessors)===null||n===void 0)&&n.length)this._registeredSpanProcessors=[...t.spanProcessors],this.activeSpanProcessor=new _n(this._registeredSpanProcessors);else{let s=this._buildExporterFromEnv();if(s!==void 0){let a=new ut(s);this.activeSpanProcessor=a}else this.activeSpanProcessor=new Er}}getTracer(t,r,n){let o=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(o)||this._tracers.set(o,new ur({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(o)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>S.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new _n(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){w.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&Z.setGlobalContextManager(t.contextManager),t.propagator&&de.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(o=>{let s,a=setTimeout(()=>{o(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=ze.timeout},t);n.forceFlush().then(()=>{clearTimeout(a),s!==ze.timeout&&(s=ze.resolved,o(s))}).catch(i=>{clearTimeout(a),s=ze.error,o(i)})}));return new Promise((n,o)=>{Promise.all(r).then(s=>{let a=s.filter(i=>i!==ze.resolved);a.length>0?o(a):n()}).catch(s=>o([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=this.constructor._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=this.constructor._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set(he().OTEL_PROPAGATORS)),n=t.map(o=>{let s=this._getPropagator(o);return s||S.warn(`Propagator "${o}" requested through environment variable is unavailable.`),s}).reduce((o,s)=>(s&&o.push(s),o),[]);if(n.length!==0)return t.length===1?n[0]:new Xt({propagators:n})}_buildExporterFromEnv(){let t=he().OTEL_TRACES_EXPORTER;if(t==="none"||t==="")return;let r=this._getSpanExporter(t);return r||S.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};_r._registeredPropagators=new Map([["tracecontext",()=>new zt],["baggage",()=>new Ht]]);_r._registeredExporters=new Map});var Jo,Gp=_(()=>{K();Jo=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(t){var r;return{resource:{attributes:t.resource.attributes},instrumentationScope:t.instrumentationLibrary,traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:(r=t.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:Wr(t.startTime),duration:Wr(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:se.SUCCESS})}}});var Qo,Bp=_(()=>{K();Qo=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:se.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:se.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}});var Zo,Fp=_(()=>{O();K();Zo=class{constructor(t){this._exporter=t,this._shutdownOnce=new ke(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(t,r){}onEnd(t){var r,n;if(this._shutdownOnce.isCalled||(t.spanContext().traceFlags&U.SAMPLED)===0)return;let o=()=>Ha._export(this._exporter,[t]).then(s=>{var a;s.code!==se.SUCCESS&&ce((a=s.error)!==null&&a!==void 0?a:new Error(`SimpleSpanProcessor: span export failed (status ${s})`))}).catch(s=>{ce(s)});if(t.resource.asyncAttributesPending){let s=(n=(r=t.resource).waitForAsyncAttributes)===null||n===void 0?void 0:n.call(r).then(()=>(s!=null&&this._unresolvedExports.delete(s),o()),a=>ce(a));s!=null&&this._unresolvedExports.add(s)}else o()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var Oi={};Se(Oi,{AlwaysOffSampler:()=>$e,AlwaysOnSampler:()=>Pe,BasicTracerProvider:()=>_r,BatchSpanProcessor:()=>ut,ConsoleSpanExporter:()=>Jo,ForceFlushState:()=>ze,InMemorySpanExporter:()=>Qo,NoopSpanProcessor:()=>Er,ParentBasedSampler:()=>ct,RandomIdGenerator:()=>Et,SamplingDecision:()=>be,SimpleSpanProcessor:()=>Zo,Span:()=>ir,TraceIdRatioBasedSampler:()=>It,Tracer:()=>ur});var Ni=_(()=>{gi();Vp();zo();Gp();Bp();Fp();vi();qo();jo();di();Ai();En();fi()});var pn=f((Ib,Hp)=>{"use strict";var mR="2.0.0",RR=Number.MAX_SAFE_INTEGER||9007199254740991,gR=16,vR=250,OR=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Hp.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:gR,MAX_SAFE_BUILD_LENGTH:vR,MAX_SAFE_INTEGER:RR,RELEASE_TYPES:OR,SEMVER_SPEC_VERSION:mR,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ln=f((Lb,kp)=>{"use strict";var NR=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};kp.exports=NR});var pr=f((Ye,$p)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Pi,MAX_SAFE_BUILD_LENGTH:PR,MAX_LENGTH:CR}=pn(),IR=ln();Ye=$p.exports={};var LR=Ye.re=[],MR=Ye.safeRe=[],d=Ye.src=[],xR=Ye.safeSrc=[],A=Ye.t={},DR=0,Ci="[a-zA-Z0-9-]",yR=[["\\s",1],["\\d",CR],[Ci,PR]],UR=e=>{for(let[t,r]of yR)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},P=(e,t,r)=>{let n=UR(t),o=DR++;IR(e,o,t),A[e]=o,d[o]=t,xR[o]=n,LR[o]=new RegExp(t,r?"g":void 0),MR[o]=new RegExp(n,r?"g":void 0)};P("NUMERICIDENTIFIER","0|[1-9]\\d*");P("NUMERICIDENTIFIERLOOSE","\\d+");P("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ci}*`);P("MAINVERSION",`(${d[A.NUMERICIDENTIFIER]})\\.(${d[A.NUMERICIDENTIFIER]})\\.(${d[A.NUMERICIDENTIFIER]})`);P("MAINVERSIONLOOSE",`(${d[A.NUMERICIDENTIFIERLOOSE]})\\.(${d[A.NUMERICIDENTIFIERLOOSE]})\\.(${d[A.NUMERICIDENTIFIERLOOSE]})`);P("PRERELEASEIDENTIFIER",`(?:${d[A.NONNUMERICIDENTIFIER]}|${d[A.NUMERICIDENTIFIER]})`);P("PRERELEASEIDENTIFIERLOOSE",`(?:${d[A.NONNUMERICIDENTIFIER]}|${d[A.NUMERICIDENTIFIERLOOSE]})`);P("PRERELEASE",`(?:-(${d[A.PRERELEASEIDENTIFIER]}(?:\\.${d[A.PRERELEASEIDENTIFIER]})*))`);P("PRERELEASELOOSE",`(?:-?(${d[A.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[A.PRERELEASEIDENTIFIERLOOSE]})*))`);P("BUILDIDENTIFIER",`${Ci}+`);P("BUILD",`(?:\\+(${d[A.BUILDIDENTIFIER]}(?:\\.${d[A.BUILDIDENTIFIER]})*))`);P("FULLPLAIN",`v?${d[A.MAINVERSION]}${d[A.PRERELEASE]}?${d[A.BUILD]}?`);P("FULL",`^${d[A.FULLPLAIN]}$`);P("LOOSEPLAIN",`[v=\\s]*${d[A.MAINVERSIONLOOSE]}${d[A.PRERELEASELOOSE]}?${d[A.BUILD]}?`);P("LOOSE",`^${d[A.LOOSEPLAIN]}$`);P("GTLT","((?:<|>)?=?)");P("XRANGEIDENTIFIERLOOSE",`${d[A.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);P("XRANGEIDENTIFIER",`${d[A.NUMERICIDENTIFIER]}|x|X|\\*`);P("XRANGEPLAIN",`[v=\\s]*(${d[A.XRANGEIDENTIFIER]})(?:\\.(${d[A.XRANGEIDENTIFIER]})(?:\\.(${d[A.XRANGEIDENTIFIER]})(?:${d[A.PRERELEASE]})?${d[A.BUILD]}?)?)?`);P("XRANGEPLAINLOOSE",`[v=\\s]*(${d[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[A.XRANGEIDENTIFIERLOOSE]})(?:${d[A.PRERELEASELOOSE]})?${d[A.BUILD]}?)?)?`);P("XRANGE",`^${d[A.GTLT]}\\s*${d[A.XRANGEPLAIN]}$`);P("XRANGELOOSE",`^${d[A.GTLT]}\\s*${d[A.XRANGEPLAINLOOSE]}$`);P("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Pi}})(?:\\.(\\d{1,${Pi}}))?(?:\\.(\\d{1,${Pi}}))?`);P("COERCE",`${d[A.COERCEPLAIN]}(?:$|[^\\d])`);P("COERCEFULL",d[A.COERCEPLAIN]+`(?:${d[A.PRERELEASE]})?(?:${d[A.BUILD]})?(?:$|[^\\d])`);P("COERCERTL",d[A.COERCE],!0);P("COERCERTLFULL",d[A.COERCEFULL],!0);P("LONETILDE","(?:~>?)");P("TILDETRIM",`(\\s*)${d[A.LONETILDE]}\\s+`,!0);Ye.tildeTrimReplace="$1~";P("TILDE",`^${d[A.LONETILDE]}${d[A.XRANGEPLAIN]}$`);P("TILDELOOSE",`^${d[A.LONETILDE]}${d[A.XRANGEPLAINLOOSE]}$`);P("LONECARET","(?:\\^)");P("CARETTRIM",`(\\s*)${d[A.LONECARET]}\\s+`,!0);Ye.caretTrimReplace="$1^";P("CARET",`^${d[A.LONECARET]}${d[A.XRANGEPLAIN]}$`);P("CARETLOOSE",`^${d[A.LONECARET]}${d[A.XRANGEPLAINLOOSE]}$`);P("COMPARATORLOOSE",`^${d[A.GTLT]}\\s*(${d[A.LOOSEPLAIN]})$|^$`);P("COMPARATOR",`^${d[A.GTLT]}\\s*(${d[A.FULLPLAIN]})$|^$`);P("COMPARATORTRIM",`(\\s*)${d[A.GTLT]}\\s*(${d[A.LOOSEPLAIN]}|${d[A.XRANGEPLAIN]})`,!0);Ye.comparatorTrimReplace="$1$2$3";P("HYPHENRANGE",`^\\s*(${d[A.XRANGEPLAIN]})\\s+-\\s+(${d[A.XRANGEPLAIN]})\\s*$`);P("HYPHENRANGELOOSE",`^\\s*(${d[A.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[A.XRANGEPLAINLOOSE]})\\s*$`);P("STAR","(<|>)?=?\\s*\\*");P("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");P("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var es=f((Mb,Yp)=>{"use strict";var bR=Object.freeze({loose:!0}),wR=Object.freeze({}),VR=e=>e?typeof e!="object"?bR:e:wR;Yp.exports=VR});var Ii=f((xb,Kp)=>{"use strict";var qp=/^[0-9]+$/,jp=(e,t)=>{let r=qp.test(e),n=qp.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},GR=(e,t)=>jp(t,e);Kp.exports={compareIdentifiers:jp,rcompareIdentifiers:GR}});var ae=f((Db,Wp)=>{"use strict";var ts=ln(),{MAX_LENGTH:Xp,MAX_SAFE_INTEGER:rs}=pn(),{safeRe:ns,t:os}=pr(),BR=es(),{compareIdentifiers:lr}=Ii(),Li=class e{constructor(t,r){if(r=BR(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Xp)throw new TypeError(`version is longer than ${Xp} characters`);ts("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?ns[os.LOOSE]:ns[os.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>rs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>rs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>rs||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let s=+o;if(s>=0&&s<rs)return s}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ts("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),lr(this.major,t.major)||lr(this.minor,t.minor)||lr(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=t.prerelease[r];if(ts("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return lr(n,o)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],o=t.build[r];if(ts("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return lr(n,o)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let o=`-${r}`.match(this.options.loose?ns[os.PRERELEASELOOSE]:ns[os.PRERELEASE]);if(!o||o[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let s=[r,o];n===!1&&(s=[r]),lr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Wp.exports=Li});var Lt=f((yb,Jp)=>{"use strict";var zp=ae(),FR=(e,t,r=!1)=>{if(e instanceof zp)return e;try{return new zp(e,t)}catch(n){if(!r)return null;throw n}};Jp.exports=FR});var Zp=f((Ub,Qp)=>{"use strict";var HR=Lt(),kR=(e,t)=>{let r=HR(e,t);return r?r.version:null};Qp.exports=kR});var tl=f((bb,el)=>{"use strict";var $R=Lt(),YR=(e,t)=>{let r=$R(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};el.exports=YR});var ol=f((wb,nl)=>{"use strict";var rl=ae(),qR=(e,t,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new rl(e instanceof rl?e.version:e,r).inc(t,n,o).version}catch{return null}};nl.exports=qR});var il=f((Vb,al)=>{"use strict";var sl=Lt(),jR=(e,t)=>{let r=sl(e,null,!0),n=sl(t,null,!0),o=r.compare(n);if(o===0)return null;let s=o>0,a=s?r:n,i=s?n:r,c=!!a.prerelease.length;if(!!i.prerelease.length&&!c){if(!i.patch&&!i.minor)return"major";if(i.compareMain(a)===0)return i.minor&&!i.patch?"minor":"patch"}let E=c?"pre":"";return r.major!==n.major?E+"major":r.minor!==n.minor?E+"minor":r.patch!==n.patch?E+"patch":"prerelease"};al.exports=jR});var ul=f((Gb,cl)=>{"use strict";var KR=ae(),XR=(e,t)=>new KR(e,t).major;cl.exports=XR});var _l=f((Bb,El)=>{"use strict";var WR=ae(),zR=(e,t)=>new WR(e,t).minor;El.exports=zR});var ll=f((Fb,pl)=>{"use strict";var JR=ae(),QR=(e,t)=>new JR(e,t).patch;pl.exports=QR});var Sl=f((Hb,Tl)=>{"use strict";var ZR=Lt(),eg=(e,t)=>{let r=ZR(e,t);return r&&r.prerelease.length?r.prerelease:null};Tl.exports=eg});var Ce=f((kb,dl)=>{"use strict";var fl=ae(),tg=(e,t,r)=>new fl(e,r).compare(new fl(t,r));dl.exports=tg});var hl=f(($b,Al)=>{"use strict";var rg=Ce(),ng=(e,t,r)=>rg(t,e,r);Al.exports=ng});var Rl=f((Yb,ml)=>{"use strict";var og=Ce(),sg=(e,t)=>og(e,t,!0);ml.exports=sg});var ss=f((qb,vl)=>{"use strict";var gl=ae(),ag=(e,t,r)=>{let n=new gl(e,r),o=new gl(t,r);return n.compare(o)||n.compareBuild(o)};vl.exports=ag});var Nl=f((jb,Ol)=>{"use strict";var ig=ss(),cg=(e,t)=>e.sort((r,n)=>ig(r,n,t));Ol.exports=cg});var Cl=f((Kb,Pl)=>{"use strict";var ug=ss(),Eg=(e,t)=>e.sort((r,n)=>ug(n,r,t));Pl.exports=Eg});var Tn=f((Xb,Il)=>{"use strict";var _g=Ce(),pg=(e,t,r)=>_g(e,t,r)>0;Il.exports=pg});var as=f((Wb,Ll)=>{"use strict";var lg=Ce(),Tg=(e,t,r)=>lg(e,t,r)<0;Ll.exports=Tg});var Mi=f((zb,Ml)=>{"use strict";var Sg=Ce(),fg=(e,t,r)=>Sg(e,t,r)===0;Ml.exports=fg});var xi=f((Jb,xl)=>{"use strict";var dg=Ce(),Ag=(e,t,r)=>dg(e,t,r)!==0;xl.exports=Ag});var is=f((Qb,Dl)=>{"use strict";var hg=Ce(),mg=(e,t,r)=>hg(e,t,r)>=0;Dl.exports=mg});var cs=f((Zb,yl)=>{"use strict";var Rg=Ce(),gg=(e,t,r)=>Rg(e,t,r)<=0;yl.exports=gg});var Di=f((ew,Ul)=>{"use strict";var vg=Mi(),Og=xi(),Ng=Tn(),Pg=is(),Cg=as(),Ig=cs(),Lg=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return vg(e,r,n);case"!=":return Og(e,r,n);case">":return Ng(e,r,n);case">=":return Pg(e,r,n);case"<":return Cg(e,r,n);case"<=":return Ig(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};Ul.exports=Lg});var wl=f((tw,bl)=>{"use strict";var Mg=ae(),xg=Lt(),{safeRe:us,t:Es}=pr(),Dg=(e,t)=>{if(e instanceof Mg)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?us[Es.COERCEFULL]:us[Es.COERCE]);else{let c=t.includePrerelease?us[Es.COERCERTLFULL]:us[Es.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",i=t.includePrerelease&&r[6]?`+${r[6]}`:"";return xg(`${n}.${o}.${s}${a}${i}`,t)};bl.exports=Dg});var Gl=f((rw,Vl)=>{"use strict";var yi=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(t,r)}return this}};Vl.exports=yi});var Ie=f((nw,kl)=>{"use strict";var yg=/\s+/g,Ui=class e{constructor(t,r){if(r=bg(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof bi)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(yg," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!Fl(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&kg(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&Fg)|(this.options.loose&&Hg))+":"+t,o=Bl.get(n);if(o)return o;let s=this.options.loose,a=s?me[ue.HYPHENRANGELOOSE]:me[ue.HYPHENRANGE];t=t.replace(a,Qg(this.options.includePrerelease)),H("hyphen replace",t),t=t.replace(me[ue.COMPARATORTRIM],Vg),H("comparator trim",t),t=t.replace(me[ue.TILDETRIM],Gg),H("tilde trim",t),t=t.replace(me[ue.CARETTRIM],Bg),H("caret trim",t);let i=t.split(" ").map(p=>$g(p,this.options)).join(" ").split(/\s+/).map(p=>Jg(p,this.options));s&&(i=i.filter(p=>(H("loose invalid filter",p,this.options),!!p.match(me[ue.COMPARATORLOOSE])))),H("range list",i);let c=new Map,u=i.map(p=>new bi(p,this.options));for(let p of u){if(Fl(p))return[p];c.set(p.value,p)}c.size>1&&c.has("")&&c.delete("");let E=[...c.values()];return Bl.set(n,E),E}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>Hl(n,r)&&t.set.some(o=>Hl(o,r)&&n.every(s=>o.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new wg(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Zg(this.set[r],t,this.options))return!0;return!1}};kl.exports=Ui;var Ug=Gl(),Bl=new Ug,bg=es(),bi=Sn(),H=ln(),wg=ae(),{safeRe:me,t:ue,comparatorTrimReplace:Vg,tildeTrimReplace:Gg,caretTrimReplace:Bg}=pr(),{FLAG_INCLUDE_PRERELEASE:Fg,FLAG_LOOSE:Hg}=pn(),Fl=e=>e.value==="<0.0.0-0",kg=e=>e.value==="",Hl=(e,t)=>{let r=!0,n=e.slice(),o=n.pop();for(;r&&n.length;)r=n.every(s=>o.intersects(s,t)),o=n.pop();return r},$g=(e,t)=>(H("comp",e,t),e=jg(e,t),H("caret",e),e=Yg(e,t),H("tildes",e),e=Xg(e,t),H("xrange",e),e=zg(e,t),H("stars",e),e),Ee=e=>!e||e.toLowerCase()==="x"||e==="*",Yg=(e,t)=>e.trim().split(/\s+/).map(r=>qg(r,t)).join(" "),qg=(e,t)=>{let r=t.loose?me[ue.TILDELOOSE]:me[ue.TILDE];return e.replace(r,(n,o,s,a,i)=>{H("tilde",e,n,o,s,a,i);let c;return Ee(o)?c="":Ee(s)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:Ee(a)?c=`>=${o}.${s}.0 <${o}.${+s+1}.0-0`:i?(H("replaceTilde pr",i),c=`>=${o}.${s}.${a}-${i} <${o}.${+s+1}.0-0`):c=`>=${o}.${s}.${a} <${o}.${+s+1}.0-0`,H("tilde return",c),c})},jg=(e,t)=>e.trim().split(/\s+/).map(r=>Kg(r,t)).join(" "),Kg=(e,t)=>{H("caret",e,t);let r=t.loose?me[ue.CARETLOOSE]:me[ue.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(o,s,a,i,c)=>{H("caret",e,o,s,a,i,c);let u;return Ee(s)?u="":Ee(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Ee(i)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(H("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${i}-${c} <${s}.${a}.${+i+1}-0`:u=`>=${s}.${a}.${i}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${i}-${c} <${+s+1}.0.0-0`):(H("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${i}${n} <${s}.${a}.${+i+1}-0`:u=`>=${s}.${a}.${i}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${i} <${+s+1}.0.0-0`),H("caret return",u),u})},Xg=(e,t)=>(H("replaceXRanges",e,t),e.split(/\s+/).map(r=>Wg(r,t)).join(" ")),Wg=(e,t)=>{e=e.trim();let r=t.loose?me[ue.XRANGELOOSE]:me[ue.XRANGE];return e.replace(r,(n,o,s,a,i,c)=>{H("xRange",e,n,o,s,a,i,c);let u=Ee(s),E=u||Ee(a),p=E||Ee(i),l=p;return o==="="&&l&&(o=""),c=t.includePrerelease?"-0":"",u?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&l?(E&&(a=0),i=0,o===">"?(o=">=",E?(s=+s+1,a=0,i=0):(a=+a+1,i=0)):o==="<="&&(o="<",E?s=+s+1:a=+a+1),o==="<"&&(c="-0"),n=`${o+s}.${a}.${i}${c}`):E?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:p&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),H("xRange return",n),n})},zg=(e,t)=>(H("replaceStars",e,t),e.trim().replace(me[ue.STAR],"")),Jg=(e,t)=>(H("replaceGTE0",e,t),e.trim().replace(me[t.includePrerelease?ue.GTE0PRE:ue.GTE0],"")),Qg=e=>(t,r,n,o,s,a,i,c,u,E,p,l)=>(Ee(n)?r="":Ee(o)?r=`>=${n}.0.0${e?"-0":""}`:Ee(s)?r=`>=${n}.${o}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Ee(u)?c="":Ee(E)?c=`<${+u+1}.0.0-0`:Ee(p)?c=`<${u}.${+E+1}.0-0`:l?c=`<=${u}.${E}.${p}-${l}`:e?c=`<${u}.${E}.${+p+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Zg=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(H(e[n].semver),e[n].semver!==bi.ANY&&e[n].semver.prerelease.length>0){let o=e[n].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}});var Sn=f((ow,Xl)=>{"use strict";var fn=Symbol("SemVer ANY"),Gi=class e{static get ANY(){return fn}constructor(t,r){if(r=$l(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Vi("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===fn?this.value="":this.value=this.operator+this.semver.version,Vi("comp",this)}parse(t){let r=this.options.loose?Yl[ql.COMPARATORLOOSE]:Yl[ql.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new jl(n[2],this.options.loose):this.semver=fn}toString(){return this.value}test(t){if(Vi("Comparator.test",t,this.options.loose),this.semver===fn||t===fn)return!0;if(typeof t=="string")try{t=new jl(t,this.options)}catch{return!1}return wi(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Kl(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new Kl(this.value,r).test(t.semver):(r=$l(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||wi(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||wi(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};Xl.exports=Gi;var $l=es(),{safeRe:Yl,t:ql}=pr(),wi=Di(),Vi=ln(),jl=ae(),Kl=Ie()});var dn=f((sw,Wl)=>{"use strict";var ev=Ie(),tv=(e,t,r)=>{try{t=new ev(t,r)}catch{return!1}return t.test(e)};Wl.exports=tv});var Jl=f((aw,zl)=>{"use strict";var rv=Ie(),nv=(e,t)=>new rv(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));zl.exports=nv});var Zl=f((iw,Ql)=>{"use strict";var ov=ae(),sv=Ie(),av=(e,t,r)=>{let n=null,o=null,s=null;try{s=new sv(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||o.compare(a)===-1)&&(n=a,o=new ov(n,r))}),n};Ql.exports=av});var tT=f((cw,eT)=>{"use strict";var iv=ae(),cv=Ie(),uv=(e,t,r)=>{let n=null,o=null,s=null;try{s=new cv(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||o.compare(a)===1)&&(n=a,o=new iv(n,r))}),n};eT.exports=uv});var oT=f((uw,nT)=>{"use strict";var Bi=ae(),Ev=Ie(),rT=Tn(),_v=(e,t)=>{e=new Ev(e,t);let r=new Bi("0.0.0");if(e.test(r)||(r=new Bi("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let o=e.set[n],s=null;o.forEach(a=>{let i=new Bi(a.semver.version);switch(a.operator){case">":i.prerelease.length===0?i.patch++:i.prerelease.push(0),i.raw=i.format();case"":case">=":(!s||rT(i,s))&&(s=i);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||rT(r,s))&&(r=s)}return r&&e.test(r)?r:null};nT.exports=_v});var aT=f((Ew,sT)=>{"use strict";var pv=Ie(),lv=(e,t)=>{try{return new pv(e,t).range||"*"}catch{return null}};sT.exports=lv});var _s=f((_w,ET)=>{"use strict";var Tv=ae(),uT=Sn(),{ANY:Sv}=uT,fv=Ie(),dv=dn(),iT=Tn(),cT=as(),Av=cs(),hv=is(),mv=(e,t,r,n)=>{e=new Tv(e,n),t=new fv(t,n);let o,s,a,i,c;switch(r){case">":o=iT,s=Av,a=cT,i=">",c=">=";break;case"<":o=cT,s=hv,a=iT,i="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(dv(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let E=t.set[u],p=null,l=null;if(E.forEach(T=>{T.semver===Sv&&(T=new uT(">=0.0.0")),p=p||T,l=l||T,o(T.semver,p.semver,n)?p=T:a(T.semver,l.semver,n)&&(l=T)}),p.operator===i||p.operator===c||(!l.operator||l.operator===i)&&s(e,l.semver))return!1;if(l.operator===c&&a(e,l.semver))return!1}return!0};ET.exports=mv});var pT=f((pw,_T)=>{"use strict";var Rv=_s(),gv=(e,t,r)=>Rv(e,t,">",r);_T.exports=gv});var TT=f((lw,lT)=>{"use strict";var vv=_s(),Ov=(e,t,r)=>vv(e,t,"<",r);lT.exports=Ov});var dT=f((Tw,fT)=>{"use strict";var ST=Ie(),Nv=(e,t,r)=>(e=new ST(e,r),t=new ST(t,r),e.intersects(t,r));fT.exports=Nv});var hT=f((Sw,AT)=>{"use strict";var Pv=dn(),Cv=Ce();AT.exports=(e,t,r)=>{let n=[],o=null,s=null,a=e.sort((E,p)=>Cv(E,p,r));for(let E of a)Pv(E,t,r)?(s=E,o||(o=E)):(s&&n.push([o,s]),s=null,o=null);o&&n.push([o,null]);let i=[];for(let[E,p]of n)E===p?i.push(E):!p&&E===a[0]?i.push("*"):p?E===a[0]?i.push(`<=${p}`):i.push(`${E} - ${p}`):i.push(`>=${E}`);let c=i.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var NT=f((fw,OT)=>{"use strict";var mT=Ie(),Hi=Sn(),{ANY:Fi}=Hi,An=dn(),ki=Ce(),Iv=(e,t,r={})=>{if(e===t)return!0;e=new mT(e,r),t=new mT(t,r);let n=!1;e:for(let o of e.set){for(let s of t.set){let a=Mv(o,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},Lv=[new Hi(">=0.0.0-0")],RT=[new Hi(">=0.0.0")],Mv=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Fi){if(t.length===1&&t[0].semver===Fi)return!0;r.includePrerelease?e=Lv:e=RT}if(t.length===1&&t[0].semver===Fi){if(r.includePrerelease)return!0;t=RT}let n=new Set,o,s;for(let T of e)T.operator===">"||T.operator===">="?o=gT(o,T,r):T.operator==="<"||T.operator==="<="?s=vT(s,T,r):n.add(T.semver);if(n.size>1)return null;let a;if(o&&s){if(a=ki(o.semver,s.semver,r),a>0)return null;if(a===0&&(o.operator!==">="||s.operator!=="<="))return null}for(let T of n){if(o&&!An(T,String(o),r)||s&&!An(T,String(s),r))return null;for(let m of t)if(!An(T,String(m),r))return!1;return!0}let i,c,u,E,p=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,l=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;p&&p.prerelease.length===1&&s.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let T of t){if(E=E||T.operator===">"||T.operator===">=",u=u||T.operator==="<"||T.operator==="<=",o){if(l&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===l.major&&T.semver.minor===l.minor&&T.semver.patch===l.patch&&(l=!1),T.operator===">"||T.operator===">="){if(i=gT(o,T,r),i===T&&i!==o)return!1}else if(o.operator===">="&&!An(o.semver,String(T),r))return!1}if(s){if(p&&T.semver.prerelease&&T.semver.prerelease.length&&T.semver.major===p.major&&T.semver.minor===p.minor&&T.semver.patch===p.patch&&(p=!1),T.operator==="<"||T.operator==="<="){if(c=vT(s,T,r),c===T&&c!==s)return!1}else if(s.operator==="<="&&!An(s.semver,String(T),r))return!1}if(!T.operator&&(s||o)&&a!==0)return!1}return!(o&&u&&!s&&a!==0||s&&E&&!o&&a!==0||l||p)},gT=(e,t,r)=>{if(!e)return t;let n=ki(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},vT=(e,t,r)=>{if(!e)return t;let n=ki(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};OT.exports=Iv});var LT=f((dw,IT)=>{"use strict";var $i=pr(),PT=pn(),xv=ae(),CT=Ii(),Dv=Lt(),yv=Zp(),Uv=tl(),bv=ol(),wv=il(),Vv=ul(),Gv=_l(),Bv=ll(),Fv=Sl(),Hv=Ce(),kv=hl(),$v=Rl(),Yv=ss(),qv=Nl(),jv=Cl(),Kv=Tn(),Xv=as(),Wv=Mi(),zv=xi(),Jv=is(),Qv=cs(),Zv=Di(),eO=wl(),tO=Sn(),rO=Ie(),nO=dn(),oO=Jl(),sO=Zl(),aO=tT(),iO=oT(),cO=aT(),uO=_s(),EO=pT(),_O=TT(),pO=dT(),lO=hT(),TO=NT();IT.exports={parse:Dv,valid:yv,clean:Uv,inc:bv,diff:wv,major:Vv,minor:Gv,patch:Bv,prerelease:Fv,compare:Hv,rcompare:kv,compareLoose:$v,compareBuild:Yv,sort:qv,rsort:jv,gt:Kv,lt:Xv,eq:Wv,neq:zv,gte:Jv,lte:Qv,cmp:Zv,coerce:eO,Comparator:tO,Range:rO,satisfies:nO,toComparators:oO,maxSatisfying:sO,minSatisfying:aO,minVersion:iO,validRange:cO,outside:uO,gtr:EO,ltr:_O,intersects:pO,simplifyRange:lO,subset:TO,SemVer:xv,re:$i.re,src:$i.src,tokens:$i.t,SEMVER_SPEC_VERSION:PT.SEMVER_SPEC_VERSION,RELEASE_TYPES:PT.RELEASE_TYPES,compareIdentifiers:CT.compareIdentifiers,rcompareIdentifiers:CT.rcompareIdentifiers}});function fO(e){var t=decodeURIComponent(e).split(":");if(t.length!==4)return null;var r=xT(t,4),n=r[0],o=r[1],s=r[3],a=n.padStart(32,"0"),i=o.padStart(16,"0"),c=SO.test(s)?parseInt(s,16)&1:1;return{traceId:a,spanId:i,isRemote:!0,traceFlags:c}}var MT,xT,Yi,ps,DT,SO,yT=_(()=>{O();K();MT=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xT=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(i){a={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s},Yi="uber-trace-id",ps="uberctx",DT=(function(){function e(t){typeof t=="string"?(this._jaegerTraceHeader=t,this._jaegerBaggageHeaderPrefix=ps):(this._jaegerTraceHeader=(t==null?void 0:t.customTraceHeader)||Yi,this._jaegerBaggageHeaderPrefix=(t==null?void 0:t.customBaggageHeaderPrefix)||ps)}return e.prototype.inject=function(t,r,n){var o,s,a=w.getSpanContext(t),i=de.getBaggage(t);if(a&&oe(t)===!1){var c="0"+(a.traceFlags||U.NONE).toString(16);n.set(r,this._jaegerTraceHeader,a.traceId+":"+a.spanId+":0:"+c)}if(i)try{for(var u=MT(i.getAllEntries()),E=u.next();!E.done;E=u.next()){var p=xT(E.value,2),l=p[0],T=p[1];n.set(r,this._jaegerBaggageHeaderPrefix+"-"+l,encodeURIComponent(T.value))}}catch(m){o={error:m}}finally{try{E&&!E.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}},e.prototype.extract=function(t,r,n){var o,s,a=this,i,c=n.get(r,this._jaegerTraceHeader),u=Array.isArray(c)?c[0]:c,E=n.keys(r).filter(function(V){return V.startsWith(a._jaegerBaggageHeaderPrefix+"-")}).map(function(V){var x=n.get(r,V);return{key:V.substring(a._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(x)?x[0]:x}}),p=t;if(typeof u=="string"){var l=fO(u);l&&(p=w.setSpanContext(p,l))}if(E.length===0)return p;var T=(i=de.getBaggage(t))!==null&&i!==void 0?i:de.createBaggage();try{for(var m=MT(E),v=m.next();!v.done;v=m.next()){var R=v.value;R.value!==void 0&&(T=T.setEntry(R.key,{value:decodeURIComponent(R.value)}))}}catch(V){o={error:V}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}return p=de.setBaggage(p,T),p},e.prototype.fields=function(){return[this._jaegerTraceHeader]},e})(),SO=/^[0-9a-f]{1,2}$/i});var UT={};Se(UT,{JaegerPropagator:()=>DT,UBER_BAGGAGE_HEADER_PREFIX:()=>ps,UBER_TRACE_ID_HEADER:()=>Yi});var bT=_(()=>{yT()});var GT=f(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.NodeTracerProvider=void 0;var wT=hp(),ls=(Np(),De(Op)),VT=(Ni(),De(Oi)),dO=LT(),AO=(bT(),De(UT)),Ts=class extends VT.BasicTracerProvider{constructor(t={}){super(t)}register(t={}){if(t.contextManager===void 0){let r=dO.gte(process.version,"14.8.0")?wT.AsyncLocalStorageContextManager:wT.AsyncHooksContextManager;t.contextManager=new r,t.contextManager.enable()}super.register(t)}};Ss.NodeTracerProvider=Ts;Ts._registeredPropagators=new Map([...VT.BasicTracerProvider._registeredPropagators,["b3",()=>new ls.B3Propagator({injectEncoding:ls.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new ls.B3Propagator({injectEncoding:ls.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new AO.JaegerPropagator]])});var BT=f(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.Tracer=D.TraceIdRatioBasedSampler=D.Span=D.SimpleSpanProcessor=D.SamplingDecision=D.RandomIdGenerator=D.ParentBasedSampler=D.NoopSpanProcessor=D.InMemorySpanExporter=D.ForceFlushState=D.ConsoleSpanExporter=D.BatchSpanProcessor=D.BasicTracerProvider=D.AlwaysOnSampler=D.AlwaysOffSampler=D.NodeTracerProvider=void 0;var hO=GT();Object.defineProperty(D,"NodeTracerProvider",{enumerable:!0,get:function(){return hO.NodeTracerProvider}});var _e=(Ni(),De(Oi));Object.defineProperty(D,"AlwaysOffSampler",{enumerable:!0,get:function(){return _e.AlwaysOffSampler}});Object.defineProperty(D,"AlwaysOnSampler",{enumerable:!0,get:function(){return _e.AlwaysOnSampler}});Object.defineProperty(D,"BasicTracerProvider",{enumerable:!0,get:function(){return _e.BasicTracerProvider}});Object.defineProperty(D,"BatchSpanProcessor",{enumerable:!0,get:function(){return _e.BatchSpanProcessor}});Object.defineProperty(D,"ConsoleSpanExporter",{enumerable:!0,get:function(){return _e.ConsoleSpanExporter}});Object.defineProperty(D,"ForceFlushState",{enumerable:!0,get:function(){return _e.ForceFlushState}});Object.defineProperty(D,"InMemorySpanExporter",{enumerable:!0,get:function(){return _e.InMemorySpanExporter}});Object.defineProperty(D,"NoopSpanProcessor",{enumerable:!0,get:function(){return _e.NoopSpanProcessor}});Object.defineProperty(D,"ParentBasedSampler",{enumerable:!0,get:function(){return _e.ParentBasedSampler}});Object.defineProperty(D,"RandomIdGenerator",{enumerable:!0,get:function(){return _e.RandomIdGenerator}});Object.defineProperty(D,"SamplingDecision",{enumerable:!0,get:function(){return _e.SamplingDecision}});Object.defineProperty(D,"SimpleSpanProcessor",{enumerable:!0,get:function(){return _e.SimpleSpanProcessor}});Object.defineProperty(D,"Span",{enumerable:!0,get:function(){return _e.Span}});Object.defineProperty(D,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return _e.TraceIdRatioBasedSampler}});Object.defineProperty(D,"Tracer",{enumerable:!0,get:function(){return _e.Tracer}})});var hn,FT,qi=_(()=>{hn=class{emit(t){}},FT=new hn});var ji,fs,Ki=_(()=>{qi();ji=class{getLogger(t,r,n){return new hn}},fs=new ji});var ds,HT=_(()=>{qi();ds=class{constructor(t,r,n,o){this._provider=t,this.name=r,this.version=n,this.options=o}emit(t){this._getLogger().emit(t)}_getLogger(){if(this._delegate)return this._delegate;let t=this._provider.getDelegateLogger(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):FT}}});var mn,kT=_(()=>{Ki();HT();mn=class{getLogger(t,r,n){var o;return(o=this.getDelegateLogger(t,r,n))!==null&&o!==void 0?o:new ds(this,t,r,n)}getDelegate(){var t;return(t=this._delegate)!==null&&t!==void 0?t:fs}setDelegate(t){this._delegate=t}getDelegateLogger(t,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getLogger(t,r,n)}}});var As,$T=_(()=>{As=typeof globalThis=="object"?globalThis:global});var YT=_(()=>{$T()});var qT=_(()=>{YT()});function jT(e,t,r){return n=>n===e?t:r}var Rn,Tr,Xi,KT=_(()=>{qT();Rn=Symbol.for("io.opentelemetry.js.api.logs"),Tr=As;Xi=1});var hs,XT=_(()=>{KT();Ki();kT();hs=class e{constructor(){this._proxyLoggerProvider=new mn}static getInstance(){return this._instance||(this._instance=new e),this._instance}setGlobalLoggerProvider(t){return Tr[Rn]?this.getLoggerProvider():(Tr[Rn]=jT(Xi,t,fs),this._proxyLoggerProvider.setDelegate(t),t)}getLoggerProvider(){var t,r;return(r=(t=Tr[Rn])===null||t===void 0?void 0:t.call(Tr,Xi))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(t,r,n){return this.getLoggerProvider().getLogger(t,r,n)}disable(){delete Tr[Rn],this._proxyLoggerProvider=new mn}}});var ms,Wi=_(()=>{XT();ms=hs.getInstance()});function WT(e,t,r,n){for(let o=0,s=e.length;o<s;o++){let a=e[o];t&&a.setTracerProvider(t),r&&a.setMeterProvider(r),n&&a.setLoggerProvider&&a.setLoggerProvider(n),a.getConfig().enabled||a.enable()}}function zT(e){e.forEach(t=>t.disable())}var JT=_(()=>{});function QT(e){var s;let t=e.tracerProvider||w.getTracerProvider(),r=e.meterProvider||ht.getMeterProvider(),n=e.loggerProvider||ms.getLoggerProvider(),o=((s=e.instrumentations)==null?void 0:s.flat())??[];return WT(o,t,r,n),()=>{zT(o)}}var ZT=_(()=>{O();Wi();JT()});function sS(e,t,r){if(!gO(e))return S.error(`Invalid version: ${e}`),!1;if(!t)return!0;t=t.replace(/([<>=~^]+)\s+/g,"$1");let n=PO(e);if(!n)return!1;let o=[],s=aS(n,t,o,r);return s&&!(r!=null&&r.includePrerelease)?OO(n,o):s}function gO(e){return typeof e=="string"&&oS.test(e)}function aS(e,t,r,n){if(t.includes("||")){let o=t.trim().split("||");for(let s of o)if(zi(e,s,r,n))return!0;return!1}else if(t.includes(" - "))t=KO(t,n);else if(t.includes(" ")){let o=t.trim().replace(/\s{2,}/g," ").split(" ");for(let s of o)if(!zi(e,s,r,n))return!1;return!0}return zi(e,t,r,n)}function zi(e,t,r,n){if(t=NO(t,n),t.includes(" "))return aS(e,t,r,n);{let o=CO(t);return r.push(o),vO(e,o)}}function vO(e,t){var n;if(t.invalid)return!1;if(!t.version||Qi(t.version))return!0;let r=tS(e.versionSegments||[],t.versionSegments||[]);if(r===0){let o=e.prereleaseSegments||[],s=t.prereleaseSegments||[];!o.length&&!s.length?r=0:!o.length&&s.length?r=1:o.length&&!s.length?r=-1:r=tS(o,s)}return(n=RO[t.op])==null?void 0:n.includes(r)}function OO(e,t){return e.prerelease?t.some(r=>r.prerelease&&r.version===e.version):!0}function NO(e,t){return e=e.trim(),e=qO(e,t),e=YO(e),e=jO(e,t),e=e.trim(),e}function pe(e){return!e||e.toLowerCase()==="x"||e==="*"}function PO(e){let t=e.match(oS);if(!t){S.error(`Invalid version: ${e}`);return}let r=t.groups.version,n=t.groups.prerelease,o=t.groups.build,s=r.split("."),a=n==null?void 0:n.split(".");return{op:void 0,version:r,versionSegments:s,versionSegmentCount:s.length,prerelease:n,prereleaseSegments:a,prereleaseSegmentCount:a?a.length:0,build:o}}function CO(e){if(!e)return{};let t=e.match(mO);if(!t)return S.error(`Invalid range: ${e}`),{invalid:!0};let r=t.groups.op,n=t.groups.version,o=t.groups.prerelease,s=t.groups.build,a=n.split("."),i=o==null?void 0:o.split(".");return r==="=="&&(r="="),{op:r||"=",version:n,versionSegments:a,versionSegmentCount:a.length,prerelease:o,prereleaseSegments:i,prereleaseSegmentCount:i?i.length:0,build:s}}function Qi(e){return e==="*"||e==="x"||e==="X"}function eS(e){let t=parseInt(e,10);return isNaN(t)?e:t}function IO(e,t){if(typeof e==typeof t){if(typeof e=="number")return[e,t];if(typeof e=="string")return[e,t];throw new Error("Version segments can only be strings or numbers")}else return[String(e),String(t)]}function LO(e,t){if(Qi(e)||Qi(t))return 0;let[r,n]=IO(eS(e),eS(t));return r>n?1:r<n?-1:0}function tS(e,t){for(let r=0;r<Math.max(e.length,t.length);r++){let n=LO(e[r]||"0",t[r]||"0");if(n!==0)return n}return 0}function YO(e){let t=FO;return e.replace(t,(r,n,o,s,a)=>{let i;return pe(n)?i="":pe(o)?i=`>=${n}.0.0 <${+n+1}.0.0-0`:pe(s)?i=`>=${n}.${o}.0 <${n}.${+o+1}.0-0`:a?i=`>=${n}.${o}.${s}-${a} <${n}.${+o+1}.0-0`:i=`>=${n}.${o}.${s} <${n}.${+o+1}.0-0`,i})}function qO(e,t){let r=$O,n=t!=null&&t.includePrerelease?"-0":"";return e.replace(r,(o,s,a,i,c)=>{let u;return pe(s)?u="":pe(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:pe(i)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?s==="0"?a==="0"?u=`>=${s}.${a}.${i}-${c} <${s}.${a}.${+i+1}-0`:u=`>=${s}.${a}.${i}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${i}-${c} <${+s+1}.0.0-0`:s==="0"?a==="0"?u=`>=${s}.${a}.${i}${n} <${s}.${a}.${+i+1}-0`:u=`>=${s}.${a}.${i}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${i} <${+s+1}.0.0-0`,u})}function jO(e,t){let r=bO;return e.replace(r,(n,o,s,a,i,c)=>{let u=pe(s),E=u||pe(a),p=E||pe(i),l=p;return o==="="&&l&&(o=""),c=t!=null&&t.includePrerelease?"-0":"",u?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&l?(E&&(a=0),i=0,o===">"?(o=">=",E?(s=+s+1,a=0,i=0):(a=+a+1,i=0)):o==="<="&&(o="<",E?s=+s+1:a=+a+1),o==="<"&&(c="-0"),n=`${o+s}.${a}.${i}${c}`):E?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:p&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),n})}function KO(e,t){let r=VO;return e.replace(r,(n,o,s,a,i,c,u,E,p,l,T,m)=>(pe(s)?o="":pe(a)?o=`>=${s}.0.0${t!=null&&t.includePrerelease?"-0":""}`:pe(i)?o=`>=${s}.${a}.0${t!=null&&t.includePrerelease?"-0":""}`:c?o=`>=${o}`:o=`>=${o}${t!=null&&t.includePrerelease?"-0":""}`,pe(p)?E="":pe(l)?E=`<${+p+1}.0.0-0`:pe(T)?E=`<${p}.${+l+1}.0-0`:m?E=`<=${p}.${l}.${T}-${m}`:t!=null&&t.includePrerelease?E=`<${p}.${l}.${+T+1}-0`:E=`<=${E}`,`${o} ${E}`.trim()))}var oS,mO,RO,iS,cS,MO,xO,rS,DO,nS,yO,Ji,gn,UO,bO,wO,VO,GO,BO,FO,HO,kO,$O,uS=_(()=>{O();oS=/^(?:v)?(?<version>(?<major>0|[1-9]\d*)\.(?<minor>0|[1-9]\d*)\.(?<patch>0|[1-9]\d*))(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,mO=/^(?<op><|>|=|==|<=|>=|~|\^|~>)?\s*(?:v)?(?<version>(?<major>x|X|\*|0|[1-9]\d*)(?:\.(?<minor>x|X|\*|0|[1-9]\d*))?(?:\.(?<patch>x|X|\*|0|[1-9]\d*))?)(?:-(?<prerelease>(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+(?<build>[0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,RO={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]};iS="[a-zA-Z0-9-]",cS="0|[1-9]\\d*",MO=`\\d*[a-zA-Z-]${iS}*`,xO="((?:<|>)?=?)",rS=`(?:${cS}|${MO})`,DO=`(?:-(${rS}(?:\\.${rS})*))`,nS=`${iS}+`,yO=`(?:\\+(${nS}(?:\\.${nS})*))`,Ji=`${cS}|x|X|\\*`,gn=`[v=\\s]*(${Ji})(?:\\.(${Ji})(?:\\.(${Ji})(?:${DO})?${yO}?)?)?`,UO=`^${xO}\\s*${gn}$`,bO=new RegExp(UO),wO=`^\\s*(${gn})\\s+-\\s+(${gn})\\s*$`,VO=new RegExp(wO),GO="(?:~>?)",BO=`^${GO}${gn}$`,FO=new RegExp(BO),HO="(?:\\^)",kO=`^${HO}${gn}$`,$O=new RegExp(kO)});function vn(e,t,r){let n=!!e[t]&&Object.prototype.propertyIsEnumerable.call(e,t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function On(e){e&&e.logger&&(typeof e.logger!="function"?le("new logger isn't a function, not replacing"):le=e.logger)}var le,Mt,Zi,Sr,ec,tc=_(()=>{le=console.error.bind(console);Mt=(e,t,r)=>{if(!e||!e[t]){le("no original function "+String(t)+" to wrap");return}if(!r){le("no wrapper function"),le(new Error().stack);return}let n=e[t];if(typeof n!="function"||typeof r!="function"){le("original object and wrapper must be functions");return}let o=r(n,t);return vn(o,"__original",n),vn(o,"__unwrap",()=>{e[t]===o&&vn(e,t,n)}),vn(o,"__wrapped",!0),vn(e,t,o),o},Zi=(e,t,r)=>{if(e)Array.isArray(e)||(e=[e]);else{le("must provide one or more modules to patch"),le(new Error().stack);return}if(!(t&&Array.isArray(t))){le("must provide one or more functions to wrap on modules");return}e.forEach(n=>{t.forEach(o=>{Mt(n,o,r)})})},Sr=(e,t)=>{if(!e||!e[t]){le("no function to unwrap."),le(new Error().stack);return}let r=e[t];if(!r.__unwrap)le("no original to unwrap to -- has "+String(t)+" already been unwrapped?");else{r.__unwrap();return}},ec=(e,t)=>{if(e)Array.isArray(e)||(e=[e]);else{le("must provide one or more modules to patch"),le(new Error().stack);return}if(!(t&&Array.isArray(t))){le("must provide one or more functions to unwrap on modules");return}e.forEach(r=>{t.forEach(n=>{Sr(r,n)})})};On.wrap=Mt;On.massWrap=Zi;On.unwrap=Sr;On.massUnwrap=ec});var Rs,ES=_(()=>{O();Wi();tc();Rs=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(t,r,n){this.instrumentationName=t,this.instrumentationVersion=r,this.setConfig(n),this._diag=S.createComponentLogger({namespace:t}),this._tracer=w.getTracer(t,r),this._meter=ht.getMeter(t,r),this._logger=ms.getLogger(t,r),this._updateMetricInstruments()}_wrap=Mt;_unwrap=Sr;_massWrap=Zi;_massUnwrap=ec;get meter(){return this._meter}setMeterProvider(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){let t=this.init()??[];return Array.isArray(t)?t:[t]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(t){this._config={enabled:!0,...t}}setTracerProvider(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(t,r,n,o){if(t)try{t(n,o)}catch(s){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},s)}}}});var pS=f((t1,_S)=>{var fr=1e3,dr=fr*60,Ar=dr*60,xt=Ar*24,WO=xt*7,zO=xt*365.25;_S.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return JO(e);if(r==="number"&&isFinite(e))return t.long?ZO(e):QO(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function JO(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*zO;case"weeks":case"week":case"w":return r*WO;case"days":case"day":case"d":return r*xt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ar;case"minutes":case"minute":case"mins":case"min":case"m":return r*dr;case"seconds":case"second":case"secs":case"sec":case"s":return r*fr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function QO(e){var t=Math.abs(e);return t>=xt?Math.round(e/xt)+"d":t>=Ar?Math.round(e/Ar)+"h":t>=dr?Math.round(e/dr)+"m":t>=fr?Math.round(e/fr)+"s":e+"ms"}function ZO(e){var t=Math.abs(e);return t>=xt?gs(e,t,xt,"day"):t>=Ar?gs(e,t,Ar,"hour"):t>=dr?gs(e,t,dr,"minute"):t>=fr?gs(e,t,fr,"second"):e+" ms"}function gs(e,t,r,n){var o=t>=r*1.5;return Math.round(e/r)+" "+n+(o?"s":"")}});var rc=f((r1,lS)=>{function eN(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=o,r.enabled=i,r.humanize=pS(),r.destroy=u,Object.keys(e).forEach(E=>{r[E]=e[E]}),r.names=[],r.skips=[],r.formatters={};function t(E){let p=0;for(let l=0;l<E.length;l++)p=(p<<5)-p+E.charCodeAt(l),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=t;function r(E){let p,l=null,T,m;function v(...R){if(!v.enabled)return;let V=v,x=Number(new Date),g=x-(p||x);V.diff=g,V.prev=p,V.curr=x,p=x,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let b=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(k,L)=>{if(k==="%%")return"%";b++;let I=r.formatters[L];if(typeof I=="function"){let N=R[b];k=I.call(V,N),R.splice(b,1),b--}return k}),r.formatArgs.call(V,R),(V.log||r.log).apply(V,R)}return v.namespace=E,v.useColors=r.useColors(),v.color=r.selectColor(E),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(T!==r.namespaces&&(T=r.namespaces,m=r.enabled(E)),m),set:R=>{l=R}}),typeof r.init=="function"&&r.init(v),v}function n(E,p){let l=r(this.namespace+(typeof p>"u"?":":p)+E);return l.log=this.log,l}function o(E){r.save(E),r.namespaces=E,r.names=[],r.skips=[];let p=(typeof E=="string"?E:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let l of p)l[0]==="-"?r.skips.push(l.slice(1)):r.names.push(l)}function s(E,p){let l=0,T=0,m=-1,v=0;for(;l<E.length;)if(T<p.length&&(p[T]===E[l]||p[T]==="*"))p[T]==="*"?(m=T,v=l,T++):(l++,T++);else if(m!==-1)T=m+1,v++,l=v;else return!1;for(;T<p.length&&p[T]==="*";)T++;return T===p.length}function a(){let E=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),E}function i(E){for(let p of r.skips)if(s(E,p))return!1;for(let p of r.names)if(s(E,p))return!0;return!1}function c(E){return E instanceof Error?E.stack||E.message:E}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}lS.exports=eN});var TS=f((Re,vs)=>{Re.formatArgs=rN;Re.save=nN;Re.load=oN;Re.useColors=tN;Re.storage=sN();Re.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Re.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function tN(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function rN(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+vs.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(n=r))}),e.splice(n,0,t)}Re.log=console.debug||console.log||(()=>{});function nN(e){try{e?Re.storage.setItem("debug",e):Re.storage.removeItem("debug")}catch{}}function oN(){let e;try{e=Re.storage.getItem("debug")||Re.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function sN(){try{return localStorage}catch{}}vs.exports=rc()(Re);var{formatters:aN}=vs.exports;aN.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var fS=f((n1,SS)=>{"use strict";SS.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}});var hS=f((o1,AS)=>{"use strict";var iN=G("os"),dS=G("tty"),Le=fS(),{env:J}=process,_t;Le("no-color")||Le("no-colors")||Le("color=false")||Le("color=never")?_t=0:(Le("color")||Le("colors")||Le("color=true")||Le("color=always"))&&(_t=1);"FORCE_COLOR"in J&&(J.FORCE_COLOR==="true"?_t=1:J.FORCE_COLOR==="false"?_t=0:_t=J.FORCE_COLOR.length===0?1:Math.min(parseInt(J.FORCE_COLOR,10),3));function nc(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function oc(e,t){if(_t===0)return 0;if(Le("color=16m")||Le("color=full")||Le("color=truecolor"))return 3;if(Le("color=256"))return 2;if(e&&!t&&_t===void 0)return 0;let r=_t||0;if(J.TERM==="dumb")return r;if(process.platform==="win32"){let n=iN.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in J)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in J)||J.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in J)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(J.TEAMCITY_VERSION)?1:0;if(J.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in J){let n=parseInt((J.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(J.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(J.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(J.TERM)||"COLORTERM"in J?1:r}function cN(e){let t=oc(e,e&&e.isTTY);return nc(t)}AS.exports={supportsColor:cN,stdout:nc(oc(!0,dS.isatty(1))),stderr:nc(oc(!0,dS.isatty(2)))}});var RS=f((Q,Ns)=>{var uN=G("tty"),Os=G("util");Q.init=fN;Q.log=lN;Q.formatArgs=_N;Q.save=TN;Q.load=SN;Q.useColors=EN;Q.destroy=Os.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Q.colors=[6,2,3,4,5,1];try{let e=hS();e&&(e.stderr||e).level>=2&&(Q.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Q.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function EN(){return"colors"in Q.inspectOpts?!!Q.inspectOpts.colors:uN.isatty(process.stderr.fd)}function _N(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,o="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${o};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(o+"m+"+Ns.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=pN()+t+" "+e[0]}function pN(){return Q.inspectOpts.hideDate?"":new Date().toISOString()+" "}function lN(...e){return process.stderr.write(Os.formatWithOptions(Q.inspectOpts,...e)+`
`)}function TN(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function SN(){return process.env.DEBUG}function fN(e){e.inspectOpts={};let t=Object.keys(Q.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Q.inspectOpts[t[r]]}Ns.exports=rc()(Q);var{formatters:mS}=Ns.exports;mS.o=function(e){return this.inspectOpts.colors=this.useColors,Os.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};mS.O=function(e){return this.inspectOpts.colors=this.useColors,Os.inspect(e,this.inspectOpts)}});var gS=f((s1,sc)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?sc.exports=TS():sc.exports=RS()});var ic=f((a1,vS)=>{"use strict";var ac=G("path").sep;vS.exports=function(e){var t=e.split(ac),r=t.lastIndexOf("node_modules");if(r!==-1&&t[r+1]){for(var n=t[r+1][0]==="@",o=n?t[r+1]+"/"+t[r+2]:t[r+1],s=n?3:2,a="",i=r+s-1,c=0;c<=i;c++)c===i?a+=t[c]:a+=t[c]+ac;for(var u="",E=t.length-1,p=r+s;p<=E;p++)p===E?u+=t[p]:u+=t[p]+ac;return{name:o,basedir:a,path:u}}}});var cc=f((i1,OS)=>{"use strict";var dN=G("os");OS.exports=dN.homedir||function(){var t=process.env.HOME,r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||t||null:process.platform==="darwin"?t||(r?"/Users/"+r:null):process.platform==="linux"?t||(process.getuid()===0?"/root":r?"/home/"+r:null):t||null}});var uc=f((c1,NS)=>{NS.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}});var PS=f((u1,Nn)=>{"use strict";var AN=process.platform==="win32",hN=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,Ec={};function mN(e){return hN.exec(e).slice(1)}Ec.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=mN(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0]===t[1]?t[0]:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};var RN=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,_c={};function gN(e){return RN.exec(e).slice(1)}_c.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=gN(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};AN?Nn.exports=Ec.parse:Nn.exports=_c.parse;Nn.exports.posix=_c.parse;Nn.exports.win32=Ec.parse});var pc=f((E1,MS)=>{var LS=G("path"),CS=LS.parse||PS(),IS=function(t,r){var n="/";/^([A-Za-z]:)/.test(t)?n="":/^\\\\/.test(t)&&(n="\\\\");for(var o=[t],s=CS(t);s.dir!==o[o.length-1];)o.push(s.dir),s=CS(s.dir);return o.reduce(function(a,i){return a.concat(r.map(function(c){return LS.resolve(n,i,c)}))},[])};MS.exports=function(t,r,n){var o=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(n,t,function(){return IS(t,o)},r);var s=IS(t,o);return r&&r.paths?s.concat(r.paths):s}});var lc=f((_1,xS)=>{xS.exports=function(e,t){return t||{}}});var US=f((p1,yS)=>{"use strict";var vN="Function.prototype.bind called on incompatible ",ON=Object.prototype.toString,NN=Math.max,PN="[object Function]",DS=function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},CN=function(t,r){for(var n=[],o=r||0,s=0;o<t.length;o+=1,s+=1)n[s]=t[o];return n},IN=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};yS.exports=function(t){var r=this;if(typeof r!="function"||ON.apply(r)!==PN)throw new TypeError(vN+r);for(var n=CN(arguments,1),o,s=function(){if(this instanceof o){var E=r.apply(this,DS(n,arguments));return Object(E)===E?E:this}return r.apply(t,DS(n,arguments))},a=NN(0,r.length-n.length),i=[],c=0;c<a;c++)i[c]="$"+c;if(o=Function("binder","return function ("+IN(i,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}});var wS=f((l1,bS)=>{"use strict";var LN=US();bS.exports=Function.prototype.bind||LN});var GS=f((T1,VS)=>{"use strict";var MN=Function.prototype.call,xN=Object.prototype.hasOwnProperty,DN=wS();VS.exports=DN.call(MN,xN)});var BS=f((S1,yN)=>{yN.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Pn=f((f1,kS)=>{"use strict";var UN=GS();function bN(e,t){for(var r=e.split("."),n=t.split(" "),o=n.length>1?n[0]:"=",s=(n.length>1?n[1]:n[0]).split("."),a=0;a<3;++a){var i=parseInt(r[a]||0,10),c=parseInt(s[a]||0,10);if(i!==c)return o==="<"?i<c:o===">="?i>=c:!1}return o===">="}function FS(e,t){var r=t.split(/ ?&& ?/);if(r.length===0)return!1;for(var n=0;n<r.length;++n)if(!bN(e,r[n]))return!1;return!0}function wN(e,t){if(typeof t=="boolean")return t;var r=typeof e>"u"?process.versions&&process.versions.node:e;if(typeof r!="string")throw new TypeError(typeof e>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(t&&typeof t=="object"){for(var n=0;n<t.length;++n)if(FS(r,t[n]))return!0;return!1}return FS(r,t)}var HS=BS();kS.exports=function(t,r){return UN(HS,t)&&wN(r,HS[t])}});var qS=f((d1,YS)=>{var Dt=G("fs"),VN=cc(),z=G("path"),GN=uc(),BN=pc(),FN=lc(),HN=Pn(),kN=process.platform!=="win32"&&Dt.realpath&&typeof Dt.realpath.native=="function"?Dt.realpath.native:Dt.realpath,$S=VN(),$N=function(){return[z.join($S,".node_modules"),z.join($S,".node_libraries")]},YN=function(t,r){Dt.stat(t,function(n,o){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,o.isFile()||o.isFIFO())})},qN=function(t,r){Dt.stat(t,function(n,o){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,o.isDirectory())})},jN=function(t,r){kN(t,function(n,o){n&&n.code!=="ENOENT"?r(n):r(null,n?t:o)})},Cn=function(t,r,n,o){n&&n.preserveSymlinks===!1?t(r,o):o(null,r)},KN=function(t,r,n){t(r,function(o,s){if(o)n(o);else try{var a=JSON.parse(s);n(null,a)}catch{n(null)}})},XN=function(t,r,n){for(var o=BN(r,n,t),s=0;s<o.length;s++)o[s]=z.join(o[s],t);return o};YS.exports=function(t,r,n){var o=n,s=r;if(typeof r=="function"&&(o=s,s={}),typeof t!="string"){var a=new TypeError("Path must be a string.");return process.nextTick(function(){o(a)})}s=FN(t,s);var i=s.isFile||YN,c=s.isDirectory||qN,u=s.readFile||Dt.readFile,E=s.realpath||jN,p=s.readPackage||KN;if(s.readFile&&s.readPackage){var l=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){o(l)})}var T=s.packageIterator,m=s.extensions||[".js"],v=s.includeCoreModules!==!1,R=s.basedir||z.dirname(GN()),V=s.filename||R;s.paths=s.paths||$N();var x=z.resolve(R);Cn(E,x,s,function(h,C){h?o(h):b(C)});var g;function b(h){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))g=z.resolve(h,t),(t==="."||t===".."||t.slice(-1)==="/")&&(g+="/"),/\/$/.test(t)&&g===h?I(g,s.package,y):k(g,s.package,y);else{if(v&&HN(t))return o(null,t);X(t,h,function(C,Y,M){if(C)o(C);else{if(Y)return Cn(E,Y,s,function(ee,q){ee?o(ee):o(null,q,M)});var $=new Error("Cannot find module '"+t+"' from '"+V+"'");$.code="MODULE_NOT_FOUND",o($)}})}}function y(h,C,Y){h?o(h):C?o(null,C,Y):I(g,function(M,$,ee){if(M)o(M);else if($)Cn(E,$,s,function(j,Te){j?o(j):o(null,Te,ee)});else{var q=new Error("Cannot find module '"+t+"' from '"+V+"'");q.code="MODULE_NOT_FOUND",o(q)}})}function k(h,C,Y){var M=C,$=Y;typeof M=="function"&&($=M,M=void 0);var ee=[""].concat(m);q(ee,h,M);function q(j,Te,je){if(j.length===0)return $(null,void 0,je);var Tt=Te+j[0],Ge=je;Ge?te(null,Ge):L(z.dirname(Tt),te);function te(Ze,wt,Ke){if(Ge=wt,Ze)return $(Ze);if(Ke&&Ge&&s.pathFilter){var qn=z.relative(Ke,Tt),jn=qn.slice(0,qn.length-j[0].length),Lr=s.pathFilter(Ge,Te,jn);if(Lr)return q([""].concat(m.slice()),z.resolve(Ke,Lr),Ge)}i(Tt,Yn)}function Yn(Ze,wt){if(Ze)return $(Ze);if(wt)return $(null,Tt,Ge);q(j.slice(1),Te,Ge)}}}function L(h,C){if(h===""||h==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(h)||/[/\\]node_modules[/\\]*$/.test(h))return C(null);Cn(E,h,s,function(Y,M){if(Y)return L(z.dirname(h),C);var $=z.join(M,"package.json");i($,function(ee,q){if(!q)return L(z.dirname(h),C);p(u,$,function(j,Te){j&&C(j);var je=Te;je&&s.packageFilter&&(je=s.packageFilter(je,$)),C(null,je,h)})})})}function I(h,C,Y){var M=Y,$=C;typeof $=="function"&&(M=$,$=s.package),Cn(E,h,s,function(ee,q){if(ee)return M(ee);var j=z.join(q,"package.json");i(j,function(Te,je){if(Te)return M(Te);if(!je)return k(z.join(h,"index"),$,M);p(u,j,function(Tt,Ge){if(Tt)return M(Tt);var te=Ge;if(te&&s.packageFilter&&(te=s.packageFilter(te,j)),te&&te.main){if(typeof te.main!="string"){var Yn=new TypeError("package \u201C"+te.name+"\u201D `main` must be a string");return Yn.code="INVALID_PACKAGE_MAIN",M(Yn)}(te.main==="."||te.main==="./")&&(te.main="index"),k(z.resolve(h,te.main),te,function(Ze,wt,Ke){if(Ze)return M(Ze);if(wt)return M(null,wt,Ke);if(!Ke)return k(z.join(h,"index"),Ke,M);var qn=z.resolve(h,Ke.main);I(qn,Ke,function(jn,Lr,kc){if(jn)return M(jn);if(Lr)return M(null,Lr,kc);k(z.join(h,"index"),kc,M)})});return}k(z.join(h,"/index"),te,M)})})})}function N(h,C){if(C.length===0)return h(null,void 0);var Y=C[0];c(z.dirname(Y),M);function M(q,j){if(q)return h(q);if(!j)return N(h,C.slice(1));k(Y,s.package,$)}function $(q,j,Te){if(q)return h(q);if(j)return h(null,j,Te);I(Y,s.package,ee)}function ee(q,j,Te){if(q)return h(q);if(j)return h(null,j,Te);N(h,C.slice(1))}}function X(h,C,Y){var M=function(){return XN(h,C,s)};N(Y,T?T(h,C,M,s):M())}}});var jS=f((A1,WN)=>{WN.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":">= 23.4",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var zS=f((h1,WS)=>{"use strict";var zN=Pn(),KS=jS(),XS={};for(Ps in KS)Object.prototype.hasOwnProperty.call(KS,Ps)&&(XS[Ps]=zN(Ps));var Ps;WS.exports=XS});var QS=f((m1,JS)=>{var JN=Pn();JS.exports=function(t){return JN(t)}});var tf=f((R1,ef)=>{var QN=Pn(),yt=G("fs"),ie=G("path"),ZN=cc(),eP=uc(),tP=pc(),rP=lc(),nP=process.platform!=="win32"&&yt.realpathSync&&typeof yt.realpathSync.native=="function"?yt.realpathSync.native:yt.realpathSync,ZS=ZN(),oP=function(){return[ie.join(ZS,".node_modules"),ie.join(ZS,".node_libraries")]},sP=function(t){try{var r=yt.statSync(t,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!r&&(r.isFile()||r.isFIFO())},aP=function(t){try{var r=yt.statSync(t,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!r&&r.isDirectory()},iP=function(t){try{return nP(t)}catch(r){if(r.code!=="ENOENT")throw r}return t},In=function(t,r,n){return n&&n.preserveSymlinks===!1?t(r):r},cP=function(t,r){var n=t(r);try{var o=JSON.parse(n);return o}catch{}},uP=function(t,r,n){for(var o=tP(r,n,t),s=0;s<o.length;s++)o[s]=ie.join(o[s],t);return o};ef.exports=function(t,r){if(typeof t!="string")throw new TypeError("Path must be a string.");var n=rP(t,r),o=n.isFile||sP,s=n.readFileSync||yt.readFileSync,a=n.isDirectory||aP,i=n.realpathSync||iP,c=n.readPackageSync||cP;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var u=n.packageIterator,E=n.extensions||[".js"],p=n.includeCoreModules!==!1,l=n.basedir||ie.dirname(eP()),T=n.filename||l;n.paths=n.paths||oP();var m=In(i,ie.resolve(l),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var v=ie.resolve(m,t);(t==="."||t===".."||t.slice(-1)==="/")&&(v+="/");var R=g(v)||y(v);if(R)return In(i,R,n)}else{if(p&&QN(t))return t;var V=k(t,m);if(V)return In(i,V,n)}var x=new Error("Cannot find module '"+t+"' from '"+T+"'");throw x.code="MODULE_NOT_FOUND",x;function g(L){var I=b(ie.dirname(L));if(I&&I.dir&&I.pkg&&n.pathFilter){var N=ie.relative(I.dir,L),X=n.pathFilter(I.pkg,L,N);X&&(L=ie.resolve(I.dir,X))}if(o(L))return L;for(var h=0;h<E.length;h++){var C=L+E[h];if(o(C))return C}}function b(L){if(!(L===""||L==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(L))&&!/[/\\]node_modules[/\\]*$/.test(L)){var I=ie.join(In(i,L,n),"package.json");if(!o(I))return b(ie.dirname(L));var N=c(s,I);return N&&n.packageFilter&&(N=n.packageFilter(N,L)),{pkg:N,dir:L}}}function y(L){var I=ie.join(In(i,L,n),"/package.json");if(o(I)){try{var N=c(s,I)}catch{}if(N&&n.packageFilter&&(N=n.packageFilter(N,L)),N&&N.main){if(typeof N.main!="string"){var X=new TypeError("package \u201C"+N.name+"\u201D `main` must be a string");throw X.code="INVALID_PACKAGE_MAIN",X}(N.main==="."||N.main==="./")&&(N.main="index");try{var h=g(ie.resolve(L,N.main));if(h)return h;var C=y(ie.resolve(L,N.main));if(C)return C}catch{}}}return g(ie.join(L,"/index"))}function k(L,I){for(var N=function(){return uP(L,I,n)},X=u?u(L,I,N,n):N(),h=0;h<X.length;h++){var C=X[h];if(a(ie.dirname(C))){var Y=g(C);if(Y)return Y;var M=y(C);if(M)return M}}}}});var Tc=f((g1,rf)=>{var Cs=qS();Cs.core=zS();Cs.isCore=QS();Cs.sync=tf();rf.exports=Cs});var nf=f((v1,EP)=>{EP.exports={name:"require-in-the-middle",version:"7.5.2",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.3.5","module-details-from-path":"^1.0.3",resolve:"^1.22.8"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/nodejs/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/nodejs/require-in-the-middle/issues"},homepage:"https://github.com/nodejs/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var Ac=f((O1,dc)=>{"use strict";var mr=G("path"),we=G("module"),W=gS()("require-in-the-middle"),_P=ic();dc.exports=Ln;dc.exports.Hook=Ln;var Sc,hr;if(we.isBuiltin)hr=we.isBuiltin;else if(we.builtinModules)hr=e=>e.startsWith("node:")?!0:(Sc===void 0&&(Sc=new Set(we.builtinModules)),Sc.has(e));else{let e=Tc(),[t,r]=process.versions.node.split(".").map(Number);t===8&&r<8?hr=n=>n==="http2"?!0:!!e.core[n]:hr=n=>!!e.core[n]}var Is;function pP(e,t){if(!Is)if(G.resolve&&G.resolve.paths)Is=function(r,n){return G.resolve(r,{paths:[n]})};else{let r=Tc();Is=function(n,o){return r.sync(n,{basedir:o})}}return Is(e,t)}var lP=/([/\\]index)?(\.js)?$/,fc=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(t,r){if(this._localCache.has(t))return!0;if(r)return!1;{let n=G.cache[t];return!!(n&&this._kRitmExports in n)}}get(t,r){let n=this._localCache.get(t);if(n!==void 0)return n;if(!r){let o=G.cache[t];return o&&o[this._kRitmExports]}}set(t,r,n){n?this._localCache.set(t,r):t in G.cache?G.cache[t][this._kRitmExports]=r:(W('non-core module is unexpectedly not in require.cache: "%s"',t),this._localCache.set(t,r))}};function Ln(e,t,r){if(!(this instanceof Ln))return new Ln(e,t,r);if(typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),typeof we._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof we._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,nf().bugs.url);return}this._cache=new fc,this._unhooked=!1,this._origRequire=we.prototype.require;let n=this,o=new Set,s=t?t.internals===!0:!1,a=Array.isArray(e);W("registering require hook"),this._require=we.prototype.require=function(c){return n._unhooked===!0?(W("ignoring require call - module is soft-unhooked"),n._origRequire.apply(this,arguments)):i.call(this,arguments,!1)},typeof process.getBuiltinModule=="function"&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(c){return n._unhooked===!0?(W("ignoring process.getBuiltinModule call - module is soft-unhooked"),n._origGetBuiltinModule.apply(this,arguments)):i.call(this,arguments,!0)});function i(c,u){let E=c[0],p=hr(E),l;if(p){if(l=E,E.startsWith("node:")){let x=E.slice(5);hr(x)&&(l=x)}}else{if(u)return W("call to process.getBuiltinModule with unknown built-in id"),n._origGetBuiltinModule.apply(this,c);try{l=we._resolveFilename(E,this)}catch(x){return W('Module._resolveFilename("%s") threw %j, calling original Module.require',E,x.message),n._origRequire.apply(this,c)}}let T,m;if(W("processing %s module require('%s'): %s",p===!0?"core":"non-core",E,l),n._cache.has(l,p)===!0)return W("returning already patched cached module: %s",l),n._cache.get(l,p);let v=o.has(l);v===!1&&o.add(l);let R=u?n._origGetBuiltinModule.apply(this,c):n._origRequire.apply(this,c);if(v===!0)return W("module is in the process of being patched already - ignoring: %s",l),R;if(o.delete(l),p===!0){if(a===!0&&e.includes(l)===!1)return W("ignoring core module not on whitelist: %s",l),R;T=l}else if(a===!0&&e.includes(l)){let x=mr.parse(l);T=x.name,m=x.dir}else{let x=_P(l);if(x===void 0)return W("could not parse filename: %s",l),R;T=x.name,m=x.basedir;let g=TP(x);W("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",T,E,g,m);let b=!1;if(a){if(!E.startsWith(".")&&e.includes(E)&&(T=E,b=!0),!e.includes(T)&&!e.includes(g))return R;e.includes(g)&&g!==T&&(T=g,b=!0)}if(!b){let y;try{y=pP(T,m)}catch{return W("could not resolve module: %s",T),n._cache.set(l,R,p),R}if(y!==l)if(s===!0)T=T+mr.sep+mr.relative(m,l),W("preparing to process require of internal file: %s",T);else return W("ignoring require of non-main module file: %s",y),n._cache.set(l,R,p),R}}n._cache.set(l,R,p),W("calling require hook: %s",T);let V=r(R,T,m);return n._cache.set(l,V,p),W("returning module: %s",T),V}}Ln.prototype.unhook=function(){this._unhooked=!0,this._require===we.prototype.require?(we.prototype.require=this._origRequire,W("require unhook successful")):W("require unhook unsuccessful"),process.getBuiltinModule!==void 0&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,W("process.getBuiltinModule unhook successful")):W("process.getBuiltinModule unhook unsuccessful"))};function TP(e){let t=mr.sep!=="/"?e.path.split(mr.sep).join("/"):e.path;return mr.posix.join(e.name,t).replace(lP,"")}});var Ls,Ms,of=_(()=>{Ls=class{hooks=[];children=new Map},Ms=class{_trie=new Ls;_counter=0;insert(t){let r=this._trie;for(let n of t.moduleName.split("/")){let o=r.children.get(n);o||(o=new Ls,r.children.set(n,o)),r=o}r.hooks.push({hook:t,insertedId:this._counter++})}search(t,{maintainInsertionOrder:r,fullOnly:n}={}){let o=this._trie,s=[],a=!0;for(let i of t.split("/")){let c=o.children.get(i);if(!c){a=!1;break}n||s.push(...c.hooks),o=c}return n&&a&&s.push(...o.hooks),s.length===0?[]:s.length===1?[s[0].hook]:(r&&s.sort((i,c)=>i.insertedId-c.insertedId),s.map(({hook:i})=>i))}}});import*as hc from"path";function fP(e){return hc.sep!=="/"?e.split(hc.sep).join("/"):e}var af,SP,xs,cf=_(()=>{af=Xn(Ac());of();SP=["afterEach","after","beforeEach","before","describe","it"].every(e=>typeof global[e]=="function"),xs=class e{_moduleNameTrie=new Ms;static _instance;constructor(){this._initialize()}_initialize(){new af.Hook(null,{internals:!0},(t,r,n)=>{let o=fP(r),s=this._moduleNameTrie.search(o,{maintainInsertionOrder:!0,fullOnly:n===void 0});for(let{onRequire:a}of s)t=a(t,r,n);return t})}register(t,r){let n={moduleName:t,onRequire:r};return this._moduleNameTrie.insert(n),n}static getInstance(){return SP?new e:this._instance=this._instance??new e}}});var Tf=f(Ut=>{var uf=[],mc=new WeakMap,Ef=new WeakMap,_f=new Map,pf=[],dP={set(e,t,r){return mc.get(e)[t](r)},get(e,t){if(t===Symbol.toStringTag)return"Module";let r=Ef.get(e)[t];if(typeof r=="function")return r()},defineProperty(e,t,r){if(!("value"in r))throw new Error("Getters/setters are not supported for exports property descriptors.");return mc.get(e)[t](r.value)}};function AP(e,t,r,n,o){_f.set(e,o),mc.set(t,r),Ef.set(t,n);let s=new Proxy(t,dP);uf.forEach(a=>a(e,s)),pf.push([e,s])}var lf=!1;function hP(){return lf}function mP(e){lf=e}Ut.register=AP;Ut.importHooks=uf;Ut.specifiers=_f;Ut.toHook=pf;Ut.getExperimentalPatchInternals=hP;Ut.setExperimentalPatchInternals=mP});var mf=f((M1,Rr)=>{var Sf=G("path"),RP=ic(),{fileURLToPath:ff}=G("url"),{MessageChannel:gP}=G("worker_threads"),{importHooks:Rc,specifiers:vP,toHook:OP,getExperimentalPatchInternals:NP}=Tf();function Af(e){Rc.push(e),OP.forEach(([t,r])=>e(t,r))}function hf(e){let t=Rc.indexOf(e);t>-1&&Rc.splice(t,1)}function df(e,t,r,n){let o=e(t,r,n);o&&o!==t&&(t.default=o)}var gc;function PP(){let{port1:e,port2:t}=new gP,r=0,n;gc=i=>{r++,e.postMessage(i)},e.on("message",()=>{r--,n&&r<=0&&n()}).unref();function o(){let i=setInterval(()=>{},1e3),c=new Promise(u=>{n=u}).then(()=>{clearInterval(i)});return r===0&&n(),c}let s=t;return{registerOptions:{data:{addHookMessagePort:s,include:[]},transferList:[s]},addHookMessagePort:s,waitForAllMessagesAcknowledged:o}}function Mn(e,t,r){if(!(this instanceof Mn))return new Mn(e,t,r);typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);let n=t?t.internals===!0:!1;gc&&Array.isArray(e)&&gc(e),this._iitmHook=(o,s)=>{let a=o,i=o.startsWith("node:"),c;if(i)o=o.replace(/^node:/,"");else{if(o.startsWith("file://"))try{o=ff(o)}catch{}let u=RP(o);u&&(o=u.name,c=u.basedir)}if(e){for(let u of e)if(u===o){if(c){if(n)o=o+Sf.sep+Sf.relative(c,ff(a));else if(!NP()&&!c.endsWith(vP.get(a)))continue}df(r,s,o,c)}}else df(r,s,o,c)},Af(this._iitmHook)}Mn.prototype.unhook=function(){hf(this._iitmHook)};Rr.exports=Mn;Rr.exports.Hook=Mn;Rr.exports.addHook=Af;Rr.exports.removeHook=hf;Rr.exports.createAddHookMessageChannel=PP});function Rf(e,t,r){let n,o;try{o=e()}catch(s){n=s}finally{if(t(n,o),n&&!r)throw n;return o}}async function gf(e,t,r){let n,o;try{o=await e()}catch(s){n=s}finally{if(t(n,o),n&&!r)throw n;return o}}function Ds(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var vc=_(()=>{});import*as Je from"path";import{types as vf}from"util";import{readFileSync as CP}from"fs";function Of(e,t,r){return typeof t>"u"?e.includes("*"):e.some(n=>sS(t,n,{includePrerelease:r}))}var Nf,Pf,gr,Cf=_(()=>{uS();tc();ES();cf();Nf=Xn(mf());O();Pf=Xn(Ac());vc();gr=class extends Rs{_modules;_hooks=[];_requireInTheMiddleSingleton=xs.getInstance();_enabled=!1;constructor(t,r,n){super(t,r,n);let o=this.init();o&&!Array.isArray(o)&&(o=[o]),this._modules=o||[],this._config.enabled&&this.enable()}_wrap=(t,r,n)=>{if(Ds(t[r])&&this._unwrap(t,r),vf.isProxy(t)){let o=Mt(Object.assign({},t),r,n);return Object.defineProperty(t,r,{value:o}),o}else return Mt(t,r,n)};_unwrap=(t,r)=>vf.isProxy(t)?Object.defineProperty(t,r,{value:t[r]}):Sr(t,r);_massWrap=(t,r,n)=>{if(t)Array.isArray(t)||(t=[t]);else{S.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){S.error("must provide one or more functions to wrap on modules");return}t.forEach(o=>{r.forEach(s=>{this._wrap(o,s,n)})})};_massUnwrap=(t,r)=>{if(t)Array.isArray(t)||(t=[t]);else{S.error("must provide one or more modules to patch");return}if(!(r&&Array.isArray(r))){S.error("must provide one or more functions to wrap on modules");return}t.forEach(n=>{r.forEach(o=>{this._unwrap(n,o)})})};_warnOnPreloadedModules(){this._modules.forEach(t=>{let{name:r}=t;try{let n=G.resolve(r);G.cache[n]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`)}catch{}})}_extractPackageVersion(t){try{let r=CP(Je.join(t,"package.json"),{encoding:"utf8"}),n=JSON.parse(r).version;return typeof n=="string"?n:void 0}catch{S.warn("Failed extracting version",t)}}_onRequire(t,r,n,o){if(!o)return typeof t.patch=="function"&&(t.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:t.name}),t.patch(r)):r;let s=this._extractPackageVersion(o);if(t.moduleVersion=s,t.name===n)return Of(t.supportedVersions,s,t.includePrerelease)&&typeof t.patch=="function"&&(t.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:t.name,version:t.moduleVersion,baseDir:o}),t.patch(r,t.moduleVersion)):r;let a=t.files??[],i=Je.normalize(n);return a.filter(u=>u.name===i).filter(u=>Of(u.supportedVersions,s,t.includePrerelease)).reduce((u,E)=>(E.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:t.name,version:t.moduleVersion,fileName:E.name,baseDir:o}),E.patch(u,t.moduleVersion)):u),r)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let t of this._modules){typeof t.patch=="function"&&t.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:t.name,version:t.moduleVersion}),t.patch(t.moduleExports,t.moduleVersion));for(let r of t.files)r.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:t.name,version:t.moduleVersion,fileName:r.name}),r.patch(r.moduleExports,t.moduleVersion))}return}this._warnOnPreloadedModules();for(let t of this._modules){let r=(a,i,c)=>{if(!c&&Je.isAbsolute(i)){let u=Je.parse(i);i=u.name,c=u.dir}return this._onRequire(t,a,i,c)},n=(a,i,c)=>this._onRequire(t,a,i,c),o=Je.isAbsolute(t.name)?new Pf.Hook([t.name],{internals:!0},n):this._requireInTheMiddleSingleton.register(t.name,n);this._hooks.push(o);let s=new Nf.Hook([t.name],{internals:!1},r);this._hooks.push(s)}}}disable(){if(this._enabled){this._enabled=!1;for(let t of this._modules){typeof t.unpatch=="function"&&t.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:t.name,version:t.moduleVersion}),t.unpatch(t.moduleExports,t.moduleVersion));for(let r of t.files)r.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:t.name,version:t.moduleVersion,fileName:r.name}),r.unpatch(r.moduleExports,t.moduleVersion))}}}isEnabled(){return this._enabled}}});import{normalize as ys}from"path";var If=_(()=>{});var Lf=_(()=>{Cf();If()});var Oc=_(()=>{Lf()});var Us,Mf=_(()=>{Us=class{name;supportedVersions;patch;unpatch;files;constructor(t,r,n,o,s){this.name=t,this.supportedVersions=r,this.patch=n,this.unpatch=o,this.files=s||[]}}});var bs,xf=_(()=>{Oc();bs=class{supportedVersions;patch;unpatch;name;constructor(t,r,n,o){this.supportedVersions=r,this.patch=n,this.unpatch=o,this.name=ys(t)}}});function Df(e,t){let r=bt.OLD,n=t==null?void 0:t.split(",").map(o=>o.trim()).filter(o=>o!=="");for(let o of n??[])if(o.toLowerCase()===e+"/dup"){r=bt.DUPLICATE;break}else o.toLowerCase()===e&&(r=bt.STABLE);return r}var bt,yf=_(()=>{(function(e){e[e.STABLE=1]="STABLE",e[e.OLD=2]="OLD",e[e.DUPLICATE=3]="DUPLICATE"})(bt||(bt={}))});var Uf={};Se(Uf,{InstrumentationBase:()=>gr,InstrumentationNodeModuleDefinition:()=>Us,InstrumentationNodeModuleFile:()=>bs,SemconvStability:()=>bt,isWrapped:()=>Ds,registerInstrumentations:()=>QT,safeExecuteInTheMiddle:()=>Rf,safeExecuteInTheMiddleAsync:()=>gf,semconvStabilityFromStr:()=>Df});var bf=_(()=>{ZT();Oc();Mf();xf();vc();yf()});function Gf(e){return new vr(e)}function wf(e,t,r){var n,o,s;return!t&&!r?s=e:r?(n=e,o=t,s=r):(n=e,s=t),n=n??{},o=o??Z.active(),{opts:n,ctx:o,fn:s}}function Vf(e,t,r){var n,o=(n=t.onException)!==null&&n!==void 0?n:IP,s=function(i){throw o(i,e),e.end(),i};try{var a=r(e);return typeof(a==null?void 0:a.then)=="function"?a.then(function(i){return e.end(),i},s):(e.end(),a)}catch(i){throw s(i)}}var IP,vr,Bf=_(()=>{O();IP=function(e,t){t.recordException(e),t.setStatus({code:rt.ERROR})};vr=(function(){function e(t){this._tracer=t,this.startSpan=t.startSpan.bind(this._tracer),this.startActiveSpan=t.startActiveSpan.bind(this._tracer)}return e.prototype.withActiveSpan=function(t,r,n,o){var s=wf(r,n,o),a=s.opts,i=s.ctx,c=s.fn;return this._tracer.startActiveSpan(t,a,i,function(u){return Vf(u,a,c)})},e.prototype.withSpan=function(t,r,n,o){var s=wf(r,n,o),a=s.opts,i=s.ctx,c=s.fn,u=this._tracer.startSpan(t,a,i);return Vf(u,a,c)},e})()});var Ff={};Se(Ff,{SugaredTracer:()=>vr,wrapTracer:()=>Gf});var Nc=_(()=>{Bf()});var pA={};Se(pA,{FetchInstrumentation:()=>jC});var jC,lA=_(()=>{Nc();K();jC=class{constructor(e={}){this.instrumentationName="@netlify/otel/instrumentation-fetch",this.instrumentationVersion="1.0.0",this.originalFetch=null,this.config=e}getConfig(){return this.config}setConfig(){}setMeterProvider(){}setTracerProvider(e){this.provider=e}getTracerProvider(){return this.provider}annotateFromRequest(e,t){var o,s;let r=((s=(o=this.config).getRequestAttributes)==null?void 0:s.call(o,t))??{},n=new URL(t.url);e.setAttributes({...r,"http.request.method":t.method,"url.full":n.href,"url.host":n.host,"url.scheme":n.protocol.slice(0,-1),"server.address":n.hostname,"server.port":n.port,...this.prepareHeaders("request",t.headers)})}annotateFromResponse(e,t){var n,o;let r=((o=(n=this.config).getResponseAttributes)==null?void 0:o.call(n,t))??{};e.setAttributes({...r,"http.response.status_code":t.status,...this.prepareHeaders("response",t.headers)})}prepareHeaders(e,t){if(this.config.skipHeaders===!0)return{};let r=["*","/.*/"],n=this.config.skipHeaders??[],o=this.config.redactHeaders??[],s=n.some(c=>r.includes(c.toString())),a={};if(s)return a;let i=t.entries();for(let[c,u]of i){if(n.some(p=>typeof p=="string"?p==c:p.test(c)))continue;let E=`http.${e}.header.${c}`;o===!0||o.some(p=>typeof p=="string"?p==c:p.test(c))?a[E]="REDACTED":a[E]=u}return a}getTracer(){if(!this.provider)return;let e=this.provider.getTracer(this.instrumentationName,this.instrumentationVersion);return e instanceof vr?e:new vr(e)}enable(){let e=ot.fetch;this.originalFetch=e,ot.fetch=async(t,r)=>{var s;let n=typeof t=="string"?t:t instanceof URL?t.href:t.url,o=this.getTracer();return!o||(s=this.config.skipURLs)!=null&&s.some(a=>typeof a=="string"?n.startsWith(a):a.test(n))?await e(t,r):o.withActiveSpan("fetch",async a=>{let i=new Request(t,r);this.annotateFromRequest(a,i);let c=await e(i,r);return this.annotateFromResponse(a,c),c})}}disable(){this.originalFetch&&(ot.fetch=this.originalFetch,this.originalFetch=null)}}});import{fileURLToPath as aI}from"url";import{Buffer as KC}from"buffer";import XC from"process";import{pipeline as WC,Readable as zC}from"stream";import{promisify as JC}from"util";var RA="__netlify__getTracer",gA="__netlify__shutdownTracers",jc=(e,t)=>{var r;return(r=globalThis[RA])==null?void 0:r.call(globalThis,e,t)},Kc=async()=>{var e;return(e=globalThis[gA])==null?void 0:e.call(globalThis)};O();K();K();function C_(e){let t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function Lm(e){let t=Number(BigInt.asUintN(32,e)),r=Number(BigInt.asUintN(32,e>>BigInt(32)));return{low:t,high:r}}function I_(e){let t=C_(e);return Lm(t)}function Mm(e){return C_(e).toString()}var xm=typeof BigInt<"u"?Mm:Po;function P_(e){return e}function L_(e){if(e!==void 0)return st(e)}var Dm={encodeHrTime:I_,encodeSpanContext:st,encodeOptionalSpanContext:L_};function M_(e){var t,r;if(e===void 0)return Dm;let n=(t=e.useLongBits)!==null&&t!==void 0?t:!0,o=(r=e.useHex)!==null&&r!==void 0?r:!1;return{encodeHrTime:n?I_:xm,encodeSpanContext:o?P_:st,encodeOptionalSpanContext:o?P_:L_}}function x_(e){return{attributes:rn(e.attributes),droppedAttributesCount:0}}function D_(e){return{name:e.name,version:e.version}}function rn(e){return Object.keys(e).map(t=>y_(t,e[t]))}function y_(e,t){return{key:e,value:U_(t)}}function U_(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(U_)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>y_(r,n))}}:{}}function qm(e,t){var r;let n=e.spanContext(),o=e.status;return{traceId:t.encodeSpanContext(n.traceId),spanId:t.encodeSpanContext(n.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:(r=n.traceState)===null||r===void 0?void 0:r.serialize(),name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:rn(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(s=>Km(s,t)),droppedEventsCount:e.droppedEventsCount,status:{code:o.code,message:o.message},links:e.links.map(s=>jm(s,t)),droppedLinksCount:e.droppedLinksCount}}function jm(e,t){var r;return{attributes:e.attributes?rn(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:(r=e.context.traceState)===null||r===void 0?void 0:r.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}function Km(e,t){return{attributes:e.attributes?rn(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}function fp(e,t){let r=M_(t);return{resourceSpans:Wm(e,r)}}function Xm(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let o=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(o);s||(s=[],n.set(o,s)),s.push(r)}return t}function Wm(e,t){let r=Xm(e),n=[],o=r.entries(),s=o.next();for(;!s.done;){let[a,i]=s.value,c=[],u=i.values(),E=u.next();for(;!E.done;){let l=E.value;if(l.length>0){let T=l.map(m=>qm(m,t));c.push({scope:D_(l[0].instrumentationLibrary),spans:T,schemaUrl:l[0].instrumentationLibrary.schemaUrl})}E=u.next()}let p={resource:x_(a),scopeSpans:c,schemaUrl:void 0};n.push(p),s=o.next()}return n}var wo={serializeRequest:e=>{let t=fp(e,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:e=>{let t=new TextDecoder;return JSON.parse(t.decode(e))}};var LP=Object.defineProperty,MP=Object.getOwnPropertyNames,$f=e=>{throw TypeError(e)},Lc=(e,t)=>function(){return e&&(t=(0,e[MP(e)[0]])(e=0)),t},Yf=(e,t)=>{for(var r in t)LP(e,r,{get:t[r],enumerable:!0})},Mc=(e,t,r)=>t.has(e)||$f("Cannot "+r),xn=(e,t,r)=>(Mc(e,t,"read from private field"),r?r.call(e):t.get(e)),ws=(e,t,r)=>t.has(e)?$f("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Hf=(e,t,r,n)=>(Mc(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),xP=(e,t,r)=>(Mc(e,t,"access private method"),r),qf,jf,Kf,Xf=Lc({"src/constants.ts"(){"use strict";qf="__netlify__getTracer",jf="__netlify__shutdownTracers",Kf="__nfOTLPTrace"}}),Wf={};Yf(Wf,{NetlifySpanExporter:()=>zf});var Dn,yn,Pc,Cc,kf,Ic,zf,DP=Lc({"src/exporters/netlify.ts"(){"use strict";Xf(),Ic=class Jf{constructor(){ws(this,Cc),ws(this,Dn),ws(this,yn),Hf(this,Dn,new ke(xP(this,Cc,kf),this)),Hf(this,yn,S.createComponentLogger({namespace:"netlify-span-exporter"}))}export(t,r){if(xn(this,yn).debug(`export ${t.length.toString()} spans`),xn(this,Dn).isCalled){r({code:se.FAILED,error:new Error("Exporter has been shutdown")});return}console.log(Kf,xn(Jf,Pc).decode(wo.serializeRequest(t))),r({code:se.SUCCESS})}shutdown(){return xn(this,Dn).call()}},Dn=new WeakMap,yn=new WeakMap,Pc=new WeakMap,Cc=new WeakSet,kf=function(){return xn(this,yn).debug("Shutting down"),Promise.resolve()},ws(Ic,Pc,new TextDecoder),zf=Ic}}),Qf={};Yf(Qf,{default:()=>Zf});var Zf,yP=Lc({"package.json"(){Zf={name:"@netlify/otel",version:"3.4.1",type:"module",engines:{node:"^18.14.0 || >=20.6.1"},main:"./dist/main.cjs",module:"./dist/main.js",types:"./dist/main.d.ts",exports:{".":{require:{types:"./dist/main.d.cts",default:"./dist/main.cjs"},import:{types:"./dist/main.d.ts",default:"./dist/main.js"},default:{types:"./dist/main.d.ts",default:"./dist/main.js"}},"./package.json":"./package.json","./bootstrap":{require:{types:"./dist/bootstrap/main.d.cts",default:"./dist/bootstrap/main.cjs"},import:{types:"./dist/bootstrap/main.d.ts",default:"./dist/bootstrap/main.js"},default:{types:"./dist/bootstrap/main.d.ts",default:"./dist/bootstrap/main.js"}},"./exporter-netlify":{require:{types:"./dist/exporters/netlify.d.cts",default:"./dist/exporters/netlify.cjs"},import:{types:"./dist/exporters/netlify.d.ts",default:"./dist/exporters/netlify.js"},default:{types:"./dist/exporters/netlify.d.ts",default:"./dist/exporters/netlify.js"}},"./instrumentation-fetch":{require:{types:"./dist/instrumentations/fetch.d.cts",default:"./dist/instrumentations/fetch.cjs"},import:{types:"./dist/instrumentations/fetch.d.ts",default:"./dist/instrumentations/fetch.js"},default:{types:"./dist/instrumentations/fetch.d.ts",default:"./dist/instrumentations/fetch.js"}}},files:["dist/**/*"],scripts:{build:"tsup-node",dev:"tsup-node --watch",prepack:"npm run build",test:"run-s build test:ci","test:dev":"run-s build test:dev:*","test:ci":"run-s build test:ci:*","test:dev:vitest":"vitest","test:dev:vitest:watch":"vitest watch","test:ci:vitest":"vitest run",publint:"npx -y publint --strict"},keywords:["netlify","cdn"],license:"MIT",repository:"netlify/primitives",bugs:{url:"https://github.com/netlify/primitives/issues"},author:"Netlify Inc.",devDependencies:{msw:"^2.10.5","npm-run-all2":"^7.0.2",tsup:"^8.0.0",vitest:"^3.0.0"},dependencies:{"@opentelemetry/api":"1.9.0","@opentelemetry/core":"1.30.1","@opentelemetry/instrumentation":"^0.203.0","@opentelemetry/otlp-transformer":"0.57.2","@opentelemetry/resources":"1.30.1","@opentelemetry/sdk-trace-node":"1.30.1"}}}});Xf();var ed=async e=>{if(!e.headers.has("x-nf-enable-tracing"))return;let{version:t}=await import("process"),r=t.slice(1),{Resource:n}=await Promise.resolve().then(()=>(ci(),Sp)),{NodeTracerProvider:o,SimpleSpanProcessor:s}=await Promise.resolve().then(()=>Xn(BT(),1)),{registerInstrumentations:a}=await Promise.resolve().then(()=>(bf(),Uf)),{NetlifySpanExporter:i}=await Promise.resolve().then(()=>(DP(),Wf)),c=new n({"service.name":e.serviceName,"service.version":e.serviceVersion,"process.runtime.name":"nodejs","process.runtime.version":r,"deployment.environment":e.deploymentEnvironment,"http.url":e.siteUrl,"netlify.site.id":e.siteId,"netlify.site.name":e.siteName}),u=new o({resource:c,spanProcessors:[new s(new i),...await Promise.all(e.extraSpanProcessors??[])]});u.register();let E=await Promise.all(e.instrumentations??[]);a({instrumentations:E,tracerProvider:u});let{trace:p}=await Promise.resolve().then(()=>(O(),Bt)),{SugaredTracer:l}=await Promise.resolve().then(()=>(Nc(),Ff)),{default:T}=await Promise.resolve().then(()=>(yP(),Qf));Object.defineProperty(globalThis,qf,{enumerable:!1,configurable:!0,writable:!1,value:function(v,R){return v?new l(p.getTracer(v,R)):new l(p.getTracer(T.name,T.version))}}),Object.defineProperty(globalThis,jf,{enumerable:!1,configurable:!0,writable:!1,value:async()=>await u.shutdown()})};var pV=globalThis.Buffer?e=>Buffer.from(e,"base64").toString():e=>atob(e),td=globalThis.Buffer?e=>Buffer.from(e).toString("base64"):e=>btoa(e);var od=e=>{throw TypeError(e)},sd=(e,t,r)=>t.has(e)||od("Cannot "+r),ge=(e,t,r)=>(sd(e,t,"read from private field"),r?r.call(e):t.get(e)),bn=(e,t,r)=>t.has(e)?od("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),wn=(e,t,r,n)=>(sd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Fs=(e=>(e.Delete="delete",e.Read="read",e.Write="write",e))(Fs||{}),UP={invalid_vary:"Responses must not use unsupported directives of the `Netlify-Vary` header (https://ntl.fyi/cache_api_invalid_vary).",no_cache:"Responses must not set cache control headers with the `private`, `no-cache` or `no-store` directives (https://ntl.fyi/cache_api_no_cache).",low_ttl:"Responses must have a cache control header with a `max-age` or `s-maxage` directive (https://ntl.fyi/cache_api_low_ttl).",no_directive:"Responses must have a cache control header with caching directives (https://ntl.fyi/cache_api_no_directive).",no_ttl:"Responses must have a cache control header with a `max-age` or `s-maxage` directive (https://ntl.fyi/cache_api_no_ttl).",no_status:"Responses must specify a status code (https://ntl.fyi/cache_api_no_status).",invalid_directive:"Responses must have a cache control header with caching directives (https://ntl.fyi/cache_api_invalid_directive).",status:"Responses must have a status code between 200 and 299 (https://ntl.fyi/cache_api_status)."},bP="The server has returned an unexpected error (https://ntl.fyi/cache_api_error).",wP="netlify-programmable-error",VP="netlify-programmable-headers",GP="netlify-programmable-status",BP="netlify-programmable-store",FP="netlify-forwarded-host",HP="user-agent",rd=new Set(["http:","https:"]),kP=new Set(["cookie","content-encoding","content-length"]),Vs=Symbol("getInternalHeaders"),nd=Symbol("serializeResourceHeaders"),Or,Gs,Un,$P=class{constructor({getContext:e,name:t,userAgent:r}){bn(this,Or),bn(this,Gs),bn(this,Un),wn(this,Or,e),wn(this,Gs,t),wn(this,Un,r)}[Vs](e){let{host:t,token:r}=e,n={Authorization:`Bearer ${r}`,[BP]:ge(this,Gs)};return t&&(n[FP]=t),ge(this,Un)&&(n[HP]=ge(this,Un)),n}[nd](e){let t={};return e.forEach((r,n)=>{kP.has(n)||(n==="set-cookie"?(t[n]=t[n]||[],t[n].push(r)):t[n]=r.split(","))}),td(JSON.stringify(t))}async add(e){await this.put(new Request(e),await fetch(e))}async addAll(e){await Promise.allSettled(e.map(t=>this.add(t)))}async delete(e){let t=ge(this,Or).call(this,{operation:"delete"});if(t){let r=xc(e);await fetch(`${t.url}/${Dc(r)}`,{headers:this[Vs](t),method:"DELETE"})}return!0}async keys(e){return[]}async match(e){try{let t=ge(this,Or).call(this,{operation:"read"});if(!t)return;let r=xc(e),n=`${t.url}/${Dc(r)}`,o=await fetch(n,{headers:this[Vs](t),method:"GET"});return o.ok?o:void 0}catch{}}async matchAll(e,t){if(!e)return[];let r=await this.match(e);return r?[r]:[]}async put(e,t){var s,a,i;if(!t.ok)throw new TypeError(`Cannot cache response with status ${t.status}.`);if(e instanceof Request&&e.method!=="GET")throw new TypeError(`Cannot cache response to ${e.method} request.`);if(t.status===206)throw new TypeError("Cannot cache response to a range request (206 Partial Content).");if((s=t.headers.get("vary"))!=null&&s.includes("*"))throw new TypeError("Cannot cache response with 'Vary: *' header.");let r=ge(this,Or).call(this,{operation:"write"});if(!r)return;let n=xc(e),o=await fetch(`${r.url}/${Dc(n)}`,{body:t.body,headers:{...this[Vs](r),[VP]:this[nd](t.headers),[GP]:t.status.toString()},duplex:"half",method:"POST"});if(!o.ok){let c=((a=o.headers)==null?void 0:a.get(wP))??"",u=UP[c]||bP;(i=r.logger)==null||i.call(r,`Failed to write to the cache: ${u}`)}}};Or=new WeakMap;Gs=new WeakMap;Un=new WeakMap;var xc=e=>{let t;if(e instanceof Request)t=new URL(e.url);else try{t=new URL(String(e))}catch{throw new TypeError(`${e} is not a valid URL.`)}if(!rd.has(t.protocol))throw new TypeError(`Cannot cache response for URL with unsupported protocol (${t.protocol}). Supported protocols are ${[...rd].join(", ")}.`);return t},Dc=e=>encodeURIComponent(e.toString()),Bs,qe,ad=class{constructor(e){bn(this,Bs),bn(this,qe),wn(this,Bs,e),wn(this,qe,new Map)}open(e){let t=ge(this,qe).get(e);return t||(t=new $P({...ge(this,Bs),name:e}),ge(this,qe).set(e,t)),Promise.resolve(t)}has(e){return Promise.resolve(ge(this,qe).has(e))}delete(e){return Promise.resolve(ge(this,qe).delete(e))}keys(){return Promise.resolve([...ge(this,qe).keys()])}async match(e,t){var r;if(t!=null&&t.cacheName)return(r=ge(this,qe).get(t.cacheName))==null?void 0:r.match(e);for(let n of ge(this,qe).values())if(await n.match(e)===void 0)return}};Bs=new WeakMap;qe=new WeakMap;var Nr=class e extends Error{constructor(t){super(t),this.name="NetlifyUserError",Object.setPrototypeOf(this,e.prototype)}};var YP={"cache-api-read":100,"cache-api-write":20},Hs=class{constructor(t=YP){this.counts=new Map,this.limits=t}register(t){let r=this.counts.get(t)||0,n=this.limits[t]||0;return r>=n?!1:(this.counts.set(t,r+1),!0)}};import{AsyncLocalStorage as qP}from"async_hooks";var Me=new qP;import{env as id}from"process";var ks=()=>!!id.NETLIFY_DEV||!!id.NETLIFY_LOCAL;var cd="__nfSystemLog",Pr=(e,t)=>{ks()||console.log(cd,{msg:e,fields:t})},yc=e=>{console.log(cd,JSON.stringify(e))};var ud=e=>{let{pcToken:t,pcURL:r,rawUrl:n}=e;return!t||!r?null:{host:new URL(n).hostname,token:t,url:new URL("/.netlify/cache",r).toString()}},jP=()=>{globalThis.caches=new ad({getContext:({operation:e})=>{let t=Me.getStore();if(!(t!=null&&t.operationCounter))throw new Nr("The Cache API must be used within the scope of the request handler. Refer to https://ntl.fyi/cache-api-scope for more information.");let{cacheAPI:r,operationCounter:n}=t,o=e===Fs.Delete||e===Fs.Write?"cache-api-write":"cache-api-read";return n.register(o)?r||(Pr("missing Cache API metadata in request"),null):(console.log(`You've exceeded the number of allowed Cache API ${o==="cache-api-write"?"writes":"reads"} for a single invocation. Refer to https://ntl.fyi/cache-api-limits for more information.`),null)},userAgent:"netlify-functions"})};jP();var Ed="x-nf-client-connection-ip",_d="x-nf-geo",pd="x-nf-account-id",$s="x-nf-deploy-id",ld="x-nf-deploy-context",Td="x-nf-deploy-published",Sd="x-nf-site-id",fd="x-nf-request-flags",Uc="x-nf-invocation-metadata",dd="x-nf-request-id",Ad="x-nf-start-timestamp",hd="x-nf-trace-span-id",md="x-nf-request-start",KP=255,Rd=e=>{let t=new Headers;return Object.entries(e).forEach(([r,n])=>{if(n!==void 0)try{t.set(r.toLowerCase(),n)}catch(o){if([...n].every(a=>a.codePointAt(0)<=KP))throw o;console.warn(`Discarded request header '${r}' because it contains non-ASCII characters`)}}),t},gd=e=>{let t={};for(let[r,n]of e.entries())r in t?t[r].push(n):t[r]=[n];return t};var Ys=e=>({id:e.headers.get(pd)??""});var qs=e=>({context:e.get(ld)??"",id:e.get($s)??"",published:e.get(Td)==="1"});import{Buffer as XP}from"buffer";var Ks=Symbol("Request flags"),Vn=Symbol("Request route"),WP=typeof Request>"u"?class{}:Request,vd,js=class extends(vd=WP,Ks,Vn,vd){},Od=(e,t)=>{if(!(e==null||e===""))return t?XP.from(e,"base64"):e};var Cr,Bn,Gn=class{constructor(t){Js(this,Cr);Js(this,Bn);Qs(this,Cr,new Set),Qs(this,Bn,t)}get(t){let r=Wn(this,Bn)[t];return r!==void 0&&Wn(this,Cr).add(t),r}get evaluations(){return Wn(this,Cr)}};Cr=new WeakMap,Bn=new WeakMap;var Nd=e=>e[Ks]??new Gn({}),Pd=(e,t)=>{e[Ks]=t};import{Buffer as zP}from"buffer";var Cd=e=>{if(e===null)return{};try{let{postal_code:t,...r}=JSON.parse(zP.from(e,"base64").toString("utf-8"));return Object.fromEntries(Object.entries({...r,postalCode:t}).filter(([,o])=>o!==void 0))}catch{return{}}};var Id=e=>e??"";var kn=class{constructor(e,t,r,n,o,s){this.type=3,this.name="",this.prefix="",this.value="",this.suffix="",this.modifier=3,this.type=e,this.name=t,this.prefix=r,this.value=n,this.suffix=o,this.modifier=s}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},JP=/[$_\p{ID_Start}]/u,QP=/[$_\u200C\u200D\p{ID_Continue}]/u,wc=".*";function ZP(e,t){return(t?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(e)}function xd(e,t=!1){let r=[],n=0;for(;n<e.length;){let o=e[n],s=function(a){if(!t)throw new TypeError(a);r.push({type:"INVALID_CHAR",index:n,value:e[n++]})};if(o==="*"){r.push({type:"ASTERISK",index:n,value:e[n++]});continue}if(o==="+"||o==="?"){r.push({type:"OTHER_MODIFIER",index:n,value:e[n++]});continue}if(o==="\\"){r.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if(o==="{"){r.push({type:"OPEN",index:n,value:e[n++]});continue}if(o==="}"){r.push({type:"CLOSE",index:n,value:e[n++]});continue}if(o===":"){let a="",i=n+1;for(;i<e.length;){let c=e.substr(i,1);if(i===n+1&&JP.test(c)||i!==n+1&&QP.test(c)){a+=e[i++];continue}break}if(!a){s(`Missing parameter name at ${n}`);continue}r.push({type:"NAME",index:n,value:a}),n=i;continue}if(o==="("){let a=1,i="",c=n+1,u=!1;if(e[c]==="?"){s(`Pattern cannot start with "?" at ${c}`);continue}for(;c<e.length;){if(!ZP(e[c],!1)){s(`Invalid character '${e[c]}' at ${c}.`),u=!0;break}if(e[c]==="\\"){i+=e[c++]+e[c++];continue}if(e[c]===")"){if(a--,a===0){c++;break}}else if(e[c]==="("&&(a++,e[c+1]!=="?")){s(`Capturing groups are not allowed at ${c}`),u=!0;break}i+=e[c++]}if(u)continue;if(a){s(`Unbalanced pattern at ${n}`);continue}if(!i){s(`Missing pattern at ${n}`);continue}r.push({type:"REGEX",index:n,value:i}),n=c;continue}r.push({type:"CHAR",index:n,value:e[n++]})}return r.push({type:"END",index:n,value:""}),r}function Dd(e,t={}){let r=xd(e);t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./");let n=`[^${xe(t.delimiter)}]+?`,o=[],s=0,a=0,i="",c=new Set,u=g=>{if(a<r.length&&r[a].type===g)return r[a++].value},E=()=>u("OTHER_MODIFIER")??u("ASTERISK"),p=g=>{let b=u(g);if(b!==void 0)return b;let{type:y,index:k}=r[a];throw new TypeError(`Unexpected ${y} at ${k}, expected ${g}`)},l=()=>{let g="",b;for(;b=u("CHAR")??u("ESCAPED_CHAR");)g+=b;return g},T=g=>g,m=t.encodePart||T,v="",R=g=>{v+=g},V=()=>{v.length&&(o.push(new kn(3,"","",m(v),"",3)),v="")},x=(g,b,y,k,L)=>{let I=3;switch(L){case"?":I=1;break;case"*":I=0;break;case"+":I=2;break}if(!b&&!y&&I===3){R(g);return}if(V(),!b&&!y){if(!g)return;o.push(new kn(3,"","",m(g),"",I));return}let N;y?y==="*"?N=wc:N=y:N=n;let X=2;N===n?(X=1,N=""):N===wc&&(X=0,N="");let h;if(b?h=b:y&&(h=s++),c.has(h))throw new TypeError(`Duplicate name '${h}'.`);c.add(h),o.push(new kn(X,h,m(g),N,m(k),I))};for(;a<r.length;){let g=u("CHAR"),b=u("NAME"),y=u("REGEX");if(!b&&!y&&(y=u("ASTERISK")),b||y){let I=g??"";t.prefixes.indexOf(I)===-1&&(R(I),I=""),V();let N=E();x(I,b,y,"",N);continue}let k=g??u("ESCAPED_CHAR");if(k){R(k);continue}if(u("OPEN")){let I=l(),N=u("NAME"),X=u("REGEX");!N&&!X&&(X=u("ASTERISK"));let h=l();p("CLOSE");let C=E();x(I,N,X,h,C);continue}V(),p("END")}return o}function xe(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function Ld(e){return e&&e.ignoreCase?"ui":"u"}function eC(e,t,r){return yd(Dd(e,r),t,r)}function Ir(e){switch(e){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function yd(e,t,r={}){r.delimiter??(r.delimiter="/#?"),r.prefixes??(r.prefixes="./"),r.sensitive??(r.sensitive=!1),r.strict??(r.strict=!1),r.end??(r.end=!0),r.start??(r.start=!0),r.endsWith="";let n=r.start?"^":"";for(let i of e){if(i.type===3){i.modifier===3?n+=xe(i.value):n+=`(?:${xe(i.value)})${Ir(i.modifier)}`;continue}t&&t.push(i.name);let c=`[^${xe(r.delimiter)}]+?`,u=i.value;if(i.type===1?u=c:i.type===0&&(u=wc),!i.prefix.length&&!i.suffix.length){i.modifier===3||i.modifier===1?n+=`(${u})${Ir(i.modifier)}`:n+=`((?:${u})${Ir(i.modifier)})`;continue}if(i.modifier===3||i.modifier===1){n+=`(?:${xe(i.prefix)}(${u})${xe(i.suffix)})`,n+=Ir(i.modifier);continue}n+=`(?:${xe(i.prefix)}`,n+=`((?:${u})(?:`,n+=xe(i.suffix),n+=xe(i.prefix),n+=`(?:${u}))*)${xe(i.suffix)})`,i.modifier===0&&(n+="?")}let o=`[${xe(r.endsWith)}]|$`,s=`[${xe(r.delimiter)}]`;if(r.end)return r.strict||(n+=`${s}?`),r.endsWith.length?n+=`(?=${o})`:n+="$",new RegExp(n,Ld(r));r.strict||(n+=`(?:${s}(?=${o}))?`);let a=!1;if(e.length){let i=e[e.length-1];i.type===3&&i.modifier===3&&(a=r.delimiter.indexOf(i)>-1)}return a||(n+=`(?=${s}|${o})`),new RegExp(n,Ld(r))}var lt={delimiter:"",prefixes:"",sensitive:!0,strict:!0},tC={delimiter:".",prefixes:"",sensitive:!0,strict:!0},rC={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function nC(e,t){return e.length?e[0]==="/"?!0:!t||e.length<2?!1:(e[0]=="\\"||e[0]=="{")&&e[1]=="/":!1}function Ud(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}function oC(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}function bd(e){return!e||e.length<2?!1:e[0]==="["||(e[0]==="\\"||e[0]==="{")&&e[1]==="["}var wd=["ftp","file","http","https","ws","wss"];function Vd(e){if(!e)return!0;for(let t of wd)if(e.test(t))return!0;return!1}function sC(e,t){if(e=Ud(e,"#"),t||e==="")return e;let r=new URL("https://example.com");return r.hash=e,r.hash?r.hash.substring(1,r.hash.length):""}function aC(e,t){if(e=Ud(e,"?"),t||e==="")return e;let r=new URL("https://example.com");return r.search=e,r.search?r.search.substring(1,r.search.length):""}function iC(e,t){return t||e===""?e:bd(e)?Fd(e):Bd(e)}function cC(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.password=e,r.password}function uC(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.username=e,r.username}function EC(e,t,r){if(r||e==="")return e;if(t&&!wd.includes(t))return new URL(`${t}:${e}`).pathname;let n=e[0]=="/";return e=new URL(n?e:"/-"+e,"https://example.com").pathname,n||(e=e.substring(2,e.length)),e}function _C(e,t,r){return Gd(t)===e&&(e=""),r||e===""?e:Hd(e)}function pC(e,t){return e=oC(e,":"),t||e===""?e:Vc(e)}function Gd(e){switch(e){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function Vc(e){if(e==="")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol '${e}'.`)}function lC(e){if(e==="")return e;let t=new URL("https://example.com");return t.username=e,t.username}function TC(e){if(e==="")return e;let t=new URL("https://example.com");return t.password=e,t.password}function Bd(e){if(e==="")return e;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(e))throw new TypeError(`Invalid hostname '${e}'`);let t=new URL("https://example.com");return t.hostname=e,t.hostname}function Fd(e){if(e==="")return e;if(/[^0-9a-fA-F[\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname '${e}'`);return e.toLowerCase()}function Hd(e){if(e===""||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port '${e}'.`)}function SC(e){if(e==="")return e;let t=new URL("https://example.com");return t.pathname=e[0]!=="/"?"/-"+e:e,e[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}function fC(e){return e===""?e:new URL(`data:${e}`).pathname}function dC(e){if(e==="")return e;let t=new URL("https://example.com");return t.search=e,t.search.substring(1,t.search.length)}function AC(e){if(e==="")return e;let t=new URL("https://example.com");return t.hash=e,t.hash.substring(1,t.hash.length)}var hC=class{constructor(e){this.tokenList=[],this.internalResult={},this.tokenIndex=0,this.tokenIncrement=1,this.componentStart=0,this.state=0,this.groupDepth=0,this.hostnameIPv6BracketDepth=0,this.shouldTreatAsStandardURL=!1,this.input=e}get result(){return this.internalResult}parse(){for(this.tokenList=xd(this.input,!0);this.tokenIndex<this.tokenList.length;this.tokenIndex+=this.tokenIncrement){if(this.tokenIncrement=1,this.tokenList[this.tokenIndex].type==="END"){if(this.state===0){this.rewind(),this.isHashPrefix()?this.changeState(9,1):this.isSearchPrefix()?(this.changeState(8,1),this.internalResult.hash=""):(this.changeState(7,0),this.internalResult.search="",this.internalResult.hash="");continue}else if(this.state===2){this.rewindAndSetState(5);continue}this.changeState(10,0);break}if(this.groupDepth>0)if(this.isGroupClose())this.groupDepth-=1;else continue;if(this.isGroupOpen()){this.groupDepth+=1;continue}switch(this.state){case 0:this.isProtocolSuffix()&&(this.internalResult.username="",this.internalResult.password="",this.internalResult.hostname="",this.internalResult.port="",this.internalResult.pathname="",this.internalResult.search="",this.internalResult.hash="",this.rewindAndSetState(1));break;case 1:if(this.isProtocolSuffix()){this.computeShouldTreatAsStandardURL();let e=7,t=1;this.shouldTreatAsStandardURL&&(this.internalResult.pathname="/"),this.nextIsAuthoritySlashes()?(e=2,t=3):this.shouldTreatAsStandardURL&&(e=2),this.changeState(e,t)}break;case 2:this.isIdentityTerminator()?this.rewindAndSetState(3):(this.isPathnameStart()||this.isSearchPrefix()||this.isHashPrefix())&&this.rewindAndSetState(5);break;case 3:this.isPasswordPrefix()?this.changeState(4,1):this.isIdentityTerminator()&&this.changeState(5,1);break;case 4:this.isIdentityTerminator()&&this.changeState(5,1);break;case 5:this.isIPv6Open()?this.hostnameIPv6BracketDepth+=1:this.isIPv6Close()&&(this.hostnameIPv6BracketDepth-=1),this.isPortPrefix()&&!this.hostnameIPv6BracketDepth?this.changeState(6,1):this.isPathnameStart()?this.changeState(7,0):this.isSearchPrefix()?this.changeState(8,1):this.isHashPrefix()&&this.changeState(9,1);break;case 6:this.isPathnameStart()?this.changeState(7,0):this.isSearchPrefix()?this.changeState(8,1):this.isHashPrefix()&&this.changeState(9,1);break;case 7:this.isSearchPrefix()?this.changeState(8,1):this.isHashPrefix()&&this.changeState(9,1);break;case 8:this.isHashPrefix()&&this.changeState(9,1);break;case 9:break;case 10:break}}}changeState(e,t){switch(this.state){case 0:break;case 1:this.internalResult.protocol=this.makeComponentString();break;case 2:break;case 3:this.internalResult.username=this.makeComponentString();break;case 4:this.internalResult.password=this.makeComponentString();break;case 5:this.internalResult.hostname=this.makeComponentString();break;case 6:this.internalResult.port=this.makeComponentString();break;case 7:this.internalResult.pathname=this.makeComponentString();break;case 8:this.internalResult.search=this.makeComponentString();break;case 9:this.internalResult.hash=this.makeComponentString();break;case 10:break}this.changeStateWithoutSettingComponent(e,t)}changeStateWithoutSettingComponent(e,t){this.state=e,this.componentStart=this.tokenIndex+t,this.tokenIndex+=t,this.tokenIncrement=0}rewind(){this.tokenIndex=this.componentStart,this.tokenIncrement=0}rewindAndSetState(e){this.rewind(),this.state=e}safeToken(e){return e<0&&(e=this.tokenList.length-e),e<this.tokenList.length?this.tokenList[e]:this.tokenList[this.tokenList.length-1]}isNonSpecialPatternChar(e,t){let r=this.safeToken(e);return r.value===t&&(r.type==="CHAR"||r.type==="ESCAPED_CHAR"||r.type==="INVALID_CHAR")}isProtocolSuffix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}nextIsAuthoritySlashes(){return this.isNonSpecialPatternChar(this.tokenIndex+1,"/")&&this.isNonSpecialPatternChar(this.tokenIndex+2,"/")}isIdentityTerminator(){return this.isNonSpecialPatternChar(this.tokenIndex,"@")}isPasswordPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}isPortPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,":")}isPathnameStart(){return this.isNonSpecialPatternChar(this.tokenIndex,"/")}isSearchPrefix(){if(this.isNonSpecialPatternChar(this.tokenIndex,"?"))return!0;if(this.tokenList[this.tokenIndex].value!=="?")return!1;let e=this.safeToken(this.tokenIndex-1);return e.type!=="NAME"&&e.type!=="REGEX"&&e.type!=="CLOSE"&&e.type!=="ASTERISK"}isHashPrefix(){return this.isNonSpecialPatternChar(this.tokenIndex,"#")}isGroupOpen(){return this.tokenList[this.tokenIndex].type=="OPEN"}isGroupClose(){return this.tokenList[this.tokenIndex].type=="CLOSE"}isIPv6Open(){return this.isNonSpecialPatternChar(this.tokenIndex,"[")}isIPv6Close(){return this.isNonSpecialPatternChar(this.tokenIndex,"]")}makeComponentString(){let e=this.tokenList[this.tokenIndex],t=this.safeToken(this.componentStart).index;return this.input.substring(t,e.index)}computeShouldTreatAsStandardURL(){let e={};Object.assign(e,lt),e.encodePart=Vc;let t=eC(this.makeComponentString(),void 0,e);this.shouldTreatAsStandardURL=Vd(t)}},bc=["protocol","username","password","hostname","port","pathname","search","hash"],pt="*";function Md(e,t){if(typeof e!="string")throw new TypeError("parameter 1 is not of type 'string'.");let r=new URL(e,t);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!==""?r.search.substring(1,r.search.length):void 0,hash:r.hash!==""?r.hash.substring(1,r.hash.length):void 0}}function Qe(e,t){return t?Hn(e):e}function Fn(e,t,r){let n;if(typeof t.baseURL=="string")try{n=new URL(t.baseURL),e.protocol=Qe(n.protocol.substring(0,n.protocol.length-1),r),e.username=Qe(n.username,r),e.password=Qe(n.password,r),e.hostname=Qe(n.hostname,r),e.port=Qe(n.port,r),e.pathname=Qe(n.pathname,r),e.search=Qe(n.search.substring(1,n.search.length),r),e.hash=Qe(n.hash.substring(1,n.hash.length),r)}catch{throw new TypeError(`invalid baseURL '${t.baseURL}'.`)}if(typeof t.protocol=="string"&&(e.protocol=pC(t.protocol,r)),typeof t.username=="string"&&(e.username=uC(t.username,r)),typeof t.password=="string"&&(e.password=cC(t.password,r)),typeof t.hostname=="string"&&(e.hostname=iC(t.hostname,r)),typeof t.port=="string"&&(e.port=_C(t.port,e.protocol,r)),typeof t.pathname=="string"){if(e.pathname=t.pathname,n&&!nC(e.pathname,r)){let o=n.pathname.lastIndexOf("/");o>=0&&(e.pathname=Qe(n.pathname.substring(0,o+1),r)+e.pathname)}e.pathname=EC(e.pathname,e.protocol,r)}return typeof t.search=="string"&&(e.search=aC(t.search,r)),typeof t.hash=="string"&&(e.hash=sC(t.hash,r)),e}function Hn(e){return e.replace(/([+*?:{}()\\])/g,"\\$1")}function mC(e){return e.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function RC(e,t){t.delimiter??(t.delimiter="/#?"),t.prefixes??(t.prefixes="./"),t.sensitive??(t.sensitive=!1),t.strict??(t.strict=!1),t.end??(t.end=!0),t.start??(t.start=!0),t.endsWith="";let r=".*",n=`[^${mC(t.delimiter)}]+?`,o=/[$_\u200C\u200D\p{ID_Continue}]/u,s="";for(let a=0;a<e.length;++a){let i=e[a];if(i.type===3){if(i.modifier===3){s+=Hn(i.value);continue}s+=`{${Hn(i.value)}}${Ir(i.modifier)}`;continue}let c=i.hasCustomName(),u=!!i.suffix.length||!!i.prefix.length&&(i.prefix.length!==1||!t.prefixes.includes(i.prefix)),E=a>0?e[a-1]:null,p=a<e.length-1?e[a+1]:null;if(!u&&c&&i.type===1&&i.modifier===3&&p&&!p.prefix.length&&!p.suffix.length)if(p.type===3){let l=p.value.length>0?p.value[0]:"";u=o.test(l)}else u=!p.hasCustomName();if(!u&&!i.prefix.length&&E&&E.type===3){let l=E.value[E.value.length-1];u=t.prefixes.includes(l)}u&&(s+="{"),s+=Hn(i.prefix),c&&(s+=`:${i.name}`),i.type===2?s+=`(${i.value})`:i.type===1?c||(s+=`(${n})`):i.type===0&&(!c&&(!E||E.type===3||E.modifier!==3||u||i.prefix!=="")?s+="*":s+=`(${r})`),i.type===1&&c&&i.suffix.length&&o.test(i.suffix[0])&&(s+="\\"),s+=Hn(i.suffix),u&&(s+="}"),i.modifier!==3&&(s+=Ir(i.modifier))}return s}var Xs=class{constructor(e={},t,r){this.regexp={},this.names={},this.component_pattern={},this.parts={};try{let n;if(typeof t=="string"?n=t:r=t,typeof e=="string"){let i=new hC(e);if(i.parse(),e=i.result,n===void 0&&typeof e.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");e.baseURL=n}else{if(!e||typeof e!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(n)throw new TypeError("parameter 1 is not of type 'string'.")}typeof r>"u"&&(r={ignoreCase:!1});let o={ignoreCase:r.ignoreCase===!0},s={pathname:pt,protocol:pt,username:pt,password:pt,hostname:pt,port:pt,search:pt,hash:pt};this.pattern=Fn(s,e,!0),Gd(this.pattern.protocol)===this.pattern.port&&(this.pattern.port="");let a;for(a of bc){if(!(a in this.pattern))continue;let i={},c=this.pattern[a];switch(this.names[a]=[],a){case"protocol":Object.assign(i,lt),i.encodePart=Vc;break;case"username":Object.assign(i,lt),i.encodePart=lC;break;case"password":Object.assign(i,lt),i.encodePart=TC;break;case"hostname":Object.assign(i,tC),bd(c)?i.encodePart=Fd:i.encodePart=Bd;break;case"port":Object.assign(i,lt),i.encodePart=Hd;break;case"pathname":Vd(this.regexp.protocol)?(Object.assign(i,rC,o),i.encodePart=SC):(Object.assign(i,lt,o),i.encodePart=fC);break;case"search":Object.assign(i,lt,o),i.encodePart=dC;break;case"hash":Object.assign(i,lt,o),i.encodePart=AC;break}try{this.parts[a]=Dd(c,i),this.regexp[a]=yd(this.parts[a],this.names[a],i),this.component_pattern[a]=RC(this.parts[a],i)}catch{throw new TypeError(`invalid ${a} pattern '${this.pattern[a]}'.`)}}}catch(n){throw new TypeError(`Failed to construct 'URLPattern': ${n.message}`)}}test(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return!1;try{typeof e=="object"?r=Fn(r,e,!1):r=Fn(r,Md(e,t),!1)}catch{return!1}let n;for(n of bc)if(!this.regexp[n].exec(r[n]))return!1;return!0}exec(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof e>"u")return;try{typeof e=="object"?r=Fn(r,e,!1):r=Fn(r,Md(e,t),!1)}catch{return null}let n={};t?n.inputs=[e,t]:n.inputs=[e];let o;for(o of bc){let s=this.regexp[o].exec(r[o]);if(!s)return null;let a={};for(let[i,c]of this.names[o].entries())if(typeof c=="string"||typeof c=="number"){let u=s[i+1];a[c]=u}n[o]={input:r[o]??"",groups:a}}return n}static compareComponent(e,t,r){let n=(i,c)=>{for(let u of["type","modifier","prefix","value","suffix"]){if(i[u]<c[u])return-1;if(i[u]===c[u])continue;return 1}return 0},o=new kn(3,"","","","",3),s=new kn(0,"","","","",3),a=(i,c)=>{let u=0;for(;u<Math.min(i.length,c.length);++u){let E=n(i[u],c[u]);if(E)return E}return i.length===c.length?0:n(i[u]??o,c[u]??o)};return!t.component_pattern[e]&&!r.component_pattern[e]?0:t.component_pattern[e]&&!r.component_pattern[e]?a(t.parts[e],[s]):!t.component_pattern[e]&&r.component_pattern[e]?a([s],r.parts[e]):a(t.parts[e],r.parts[e])}get protocol(){return this.component_pattern.protocol}get username(){return this.component_pattern.username}get password(){return this.component_pattern.password}get hostname(){return this.component_pattern.hostname}get port(){return this.component_pattern.port}get pathname(){return this.component_pattern.pathname}get search(){return this.component_pattern.search}get hash(){return this.component_pattern.hash}};globalThis.URLPattern||(globalThis.URLPattern=Xs);var kd=(e,t)=>{var a;if(e===void 0)return{};let r=t.endsWith("/")?t.slice(0,-1):t,o=(a=new Xs({pathname:e,baseURL:r}).exec(r))==null?void 0:a.pathname.groups;return o?Object.entries(o).reduce((i,[c,u])=>u===void 0?i:{...i,[c]:u},{}):{}};var Ws=e=>e.headers.get(dd)||"";import{env as gC}from"process";var $d=()=>({region:gC.AWS_REGION});import{env as Gc}from"process";var Yd=()=>({id:Gc.SITE_ID,name:Gc.SITE_NAME,url:Gc.URL});var vC=typeof Response<"u"&&typeof Response.json=="function"?e=>Response.json(e):e=>new Response(JSON.stringify(e),{headers:{"content-type":"application/json"}}),qd=(e,t)=>{let r={},n=e[Vn];try{r=kd(n,e.url)}catch{console.log(`Could not parse function route ${n}.`)}let o={enqueuedPromises:[]};return{context:{account:Ys(e),cookies:t.getPublicInterface(),deploy:qs(e.headers),flags:Nd(e),path:n,geo:Cd(e.headers.get(_d)),ip:Id(e.headers.get(Ed)),json:vC,log:console.log,next:()=>{throw new Error("`context.next` is not implemented for serverless functions")},params:r,requestId:Ws(e),rewrite:a=>{let i=OC(a,e.url);return NC(i)},server:$d(),site:Yd(),url:new URL(e.url),waitUntil:function(i){if(arguments.length===0)throw new TypeError("waitUntil: At least 1 argument required, but only 0 passed");o.enqueuedPromises.push(Promise.resolve(i).catch(c=>console.error(c)))}},state:o}},OC=(e,t)=>{if(e instanceof URL)return e;if(e.startsWith("/")){let r=new URL(t);return r.pathname=e,r}return new URL(e)},NC=async e=>await fetch(e);import Kd from"assert";function jd(e){function t(u,E=2){return u.padStart(E,"0")}let r=t(e.getUTCDate().toString()),n=t(e.getUTCHours().toString()),o=t(e.getUTCMinutes().toString()),s=t(e.getUTCSeconds().toString()),a=e.getUTCFullYear(),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${i[e.getUTCDay()]}, ${r} ${c[e.getUTCMonth()]} ${a} ${n}:${o}:${s} GMT`}var PC=/^(?=[\u0020-\u007E]*$)[^()@<>,;:\\"[\]?={}\s]+$/;function CC(e){if(!e.name)return"";let t=[];if(IC(e.name),MC(e.name,e.value),t.push(`${e.name}=${e.value}`),e.name.startsWith("__Secure")&&(e.secure=!0),e.name.startsWith("__Host")&&(e.path="/",e.secure=!0,delete e.domain),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&Number.isInteger(e.maxAge)&&(Kd(e.maxAge>=0,"Max-Age must be an integer superior or equal to 0"),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(xC(e.domain),t.push(`Domain=${e.domain}`)),e.sameSite&&t.push(`SameSite=${e.sameSite}`),e.path&&(LC(e.path),t.push(`Path=${e.path}`)),e.expires){let{expires:r}=e,n=jd(typeof r=="number"?new Date(r):r);t.push(`Expires=${n}`)}return e.unparsed&&t.push(e.unparsed.join("; ")),t.join("; ")}function IC(e){if(e&&!PC.test(e))throw new TypeError(`Invalid cookie name: "${e}".`)}function LC(e){if(e!=null)for(let t=0;t<e.length;t++){let r=e.charAt(t);if(r<" "||r>"~"||r==";")throw new Error(`${e}: Invalid cookie path char '${r}'`)}}function MC(e,t){if(!(t==null||e==null))for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<"!"||n=='"'||n==","||n==";"||n=="\\"||n=="\x7F")throw new Error(`RFC2616 cookie '${e}' cannot contain character '${n}'`);if(n>"\x80")throw new Error(`RFC2616 cookie '${e}' can only have US-ASCII chars as value${n.charCodeAt(0).toString(16)}`)}}function xC(e){if(e==null)return;let t=e.charAt(0),r=e.charAt(e.length-1);if(t=="-"||r=="."||r=="-")throw new Error(`Invalid first/last char in cookie domain: ${e}`)}function Xd(e){let t=e.get("Cookie");if(t!=null){let r={},n=t.split(";");for(let o of n){let[s,...a]=o.split("=");Kd(s!=null);let i=s.trim();r[i]=a.join("=")}return r}return{}}function Bc(e,t){let r=CC(t);r&&e.append("Set-Cookie",r)}function Wd(e,t,r){Bc(e,Object.assign({name:t,value:"",expires:new Date(0)},r))}var zs=class{constructor(t){this.ops=[],this.request=t}apply(t){this.ops.forEach(r=>{switch(r.type){case"delete":Wd(t,r.options.name,{domain:r.options.domain,path:r.options.path});break;case"set":Bc(t,r.cookie);break;default:}})}delete(t){let r={path:"/"},n=typeof t=="string"?{name:t}:t;this.ops.push({options:{...r,...n},type:"delete"})}get(t){return Xd(this.request.headers)[t]}getPublicInterface(){return{delete:this.delete.bind(this),get:this.get.bind(this),set:this.set.bind(this)}}set(t,r){let n;if(typeof t=="string"){if(typeof r!="string")throw new TypeError("You must provide the cookie value as a string to 'cookies.set'");n={name:t,value:r}}else n=t;this.ops.push({cookie:n,type:"set"})}};import{Buffer as Fc}from"buffer";import DC from"process";var yC="NETLIFY_PURGE_API_TOKEN",UC="NETLIFY_BRANCH",bC="NETLIFY_BLOBS_CONTEXT",wC="NETLIFY_AI_GATEWAY_KEY",VC="NETLIFY_AI_GATEWAY_URL",GC="/.netlify/ai/",zd="OPENAI_API_KEY",Jd="OPENAI_BASE_URL",Qd="ANTHROPIC_API_KEY",Zd="ANTHROPIC_BASE_URL",eA="GEMINI_API_KEY",tA="GOOGLE_GEMINI_BASE_URL",rA="__NETLIFY_INJECTED_OPENAI",nA="__NETLIFY_INJECTED_ANTHROPIC",oA="__NETLIFY_INJECTED_GEMINI",BC=(e,t)=>Ve(e)?e:`${t}${GC}`,Ve=e=>typeof e=="string"&&e.length!==0,FC=(e,t)=>{try{let r=Fc.from(t,"base64").toString("utf8"),n=JSON.parse(r),o=BC(n.url,e.URL);e[VC]=o,e[wC]=n.token,!e[rA]&&(Ve(e[zd])||Ve(e[Jd]))||(e[zd]=n.token,e[Jd]=o,e[rA]="true"),!e[nA]&&(Ve(e[Qd])||Ve(e[Zd]))||(e[Qd]=n.token,e[Zd]=o,e[nA]="true"),!e[oA]&&(Ve(e[eA])||Ve(e[tA]))||(e[eA]=n.token,e[tA]=o,e[oA]="true")}catch(r){console.error("An internal error occurred while setting up Netlify AI Gateway:",r)}},HC=(e,t,r)=>{try{let n=Fc.from(t,"base64").toString("utf8"),o=JSON.parse(n),s=r.get(Sd),a=r.get($s);e[bC]=Fc.from(JSON.stringify({edgeURL:o.url,uncachedEdgeURL:o.url_uncached,token:o.token,siteID:s,deployID:a,primaryRegion:o.primary_region})).toString("base64")}catch(n){console.error("An internal error occurred while setting up Netlify Blobs:",n)}},sA=(e,t,r,n,o=DC.env)=>{var c,u;let{aiGateway:s,blobs:a}=t,i=(u=(c=r==null?void 0:r.clientContext)==null?void 0:c.custom)==null?void 0:u.purge_api_token;Ve(s)&&FC(o,s),Ve(a)&&HC(o,a,e),Ve(i)&&(o[yC]=i),Ve(n==null?void 0:n.branch)&&(o[UC]=n.branch)};var aA=e=>e.headers.get(hd)??"";var iA=e=>e.headers.get(md)??"";var cA=({awsRequestID:e,req:t,branch:r,functionName:n,accountTier:o,logToken:s})=>{let a=new URL(t.url),i=Ws(t),c={aws_req_id:e,aid:Ys(t).id,branch:r??"",account_tier:o??"",did:qs(t.headers).id,fn:n??"",host:a.host,log_token:s,method:t.method,nf_req_id:i,ts:Date.now(),path:a.pathname,span_id:aA(t),req_start_at:iA(t)};yc({fields:c,type:"bootstrap/request"})},Hc=({awsRequestID:e,result:t})=>{let r={aws_req_id:e};t instanceof Response?r.status=t.status:t instanceof Error?r.error_message=t.message:r.status=204,yc({fields:r,type:"bootstrap/response"})};var uA=!1,kC=e=>(...t)=>{let[r,n]=t;if(typeof r=="string"&&r.startsWith("/"))try{let o=Me.getStore(),s=o==null?void 0:o.context.url;if(!s)throw new Error("Could not find request in context");let a=new URL(r,s);return e(a,n)}catch{Pr("An error occurred in the patched Response.redirect")}return e(...t)},EA=()=>{uA||(uA=!0,"Response"in globalThis&&Response.redirect&&(Response.redirect=kC(Response.redirect)))};import $C from"http";import YC from"https";var qC=globalThis.fetch,_A=e=>{let t=Me.getStore();if(t!=null&&t.cdnLoopHeader){if(e.headersSent){Pr("Headers already sent, cannot add CDN-Loop header");return}e.setHeader("CDN-Loop",t==null?void 0:t.cdnLoopHeader)}};globalThis.fetch=function(t,r){let n=new Request(t,r),o=Me.getStore();return o!=null&&o.cdnLoopHeader&&n.headers.set("CDN-Loop",o.cdnLoopHeader),qC(n)};for(let e of[$C,YC]){let t=e.request;e.get=function(...n){let o=t(...n);return _A(o),o.end(),o},e.request=function(...n){let o=t(...n);return _A(o),o}}var QC=JC(WC),ZC=20,eI=e=>awslambda.streamifyResponse(async(t,r,n)=>{let o=Date.now(),s=n.awsRequestId,{body:a,flags:i,headers:c,httpMethod:u,invocationMetadata:E,isBase64Encoded:p,logToken:l,rawUrl:T,route:m}=t,v=new Gn(i||{}),R=Rd(c),V=Od(a,p),x=v.get("serverless_functions_abort_signal")===!0?AbortSignal.timeout(n.getRemainingTimeInMillis()-ZC):void 0,g=new js(T,{body:V,headers:R,method:u,signal:x}),b=!ks()&&v.get("serverless_functions_log_metadata")===!0;v.get("serverless_functions_response_redirect_relative")===!0&&EA(),b&&cA({awsRequestID:s,branch:E==null?void 0:E.branch,functionName:E==null?void 0:E.function_name,accountTier:E==null?void 0:E.account_tier,logToken:l,req:g}),sA(R,t,n,E),Pd(g,v),m&&(g[Vn]=m),v.get("serverless_functions_wait_event_loop")===!0&&(n.callbackWaitsForEmptyEventLoop=!1);let y=new zs(g),{context:k,state:L}=qd(g,y);await tI(g,k);let I=jc(),N={cacheAPI:ud(t),cdnLoopHeader:R.get("cdn-loop"),context:k,operationCounter:new Hs},X=()=>rI({funcOrFuncPath:e,requestContext:N,req:g,logMetadata:b,awsRequestID:s,responseStream:r,cookies:y,featureFlags:v,state:L,startTimestamp:o});if(I)try{let{context:h}=await Promise.resolve().then(()=>(O(),Bt)),{W3CTraceContextPropagator:C}=await Promise.resolve().then(()=>(K(),N_)),Y=new C,M={keys:ee=>[...ee.keys()],get:(ee,q)=>ee.get(q)||void 0},$=Y.extract(h.active(),R,M);await h.with($,X)}finally{await Kc()}else await X()}),tI=async(e,t)=>{let{FetchInstrumentation:r}=await Promise.resolve().then(()=>(lA(),pA));await ed({headers:e.headers,serviceName:t.site.name||"",serviceVersion:t.deploy.id,deploymentEnvironment:t.deploy.context,siteUrl:t.site.url||"",siteId:t.site.id||"",siteName:t.site.name||"",instrumentations:[new r({skipHeaders:!0})]})},TA=e=>e&&typeof e=="object"&&"default"in e?e.default:e,rI=async({funcOrFuncPath:e,requestContext:t,req:r,logMetadata:n,awsRequestID:o,responseStream:s,cookies:a,featureFlags:i,state:c,startTimestamp:u})=>{try{let E;if(typeof e=="string"){let p=await import(e),l=TA(TA(p));E=await Me.run(t,()=>l(r,t.context))}else E=await Me.run(t,()=>e.default(r,t.context));n&&Hc({awsRequestID:o,result:E}),await nI(E,s,a,i,u)}catch(E){throw n&&Hc({awsRequestID:o,result:E}),E}if(c.enqueuedPromises.length!==0)try{await Promise.allSettled(c.enqueuedPromises)}catch(E){console.error(E)}},nI=async(e,t,r,n,o)=>{let s={version:XC.version},a=KC.from(JSON.stringify(s)).toString("base64");if(e instanceof Response){let i=new Headers(e.headers);r.apply(i);let{body:c,status:u}=e,E=n.evaluations;E.size!==0&&i.set(fd,[...E].join(",")),i.set(Uc,a),i.set(Ad,o.toString());let p={multiValueHeaders:gd(i),statusCode:u},l=awslambda.HttpResponseStream.from(t,p);if((n.get("serverless_functions_fix_empty_body")===!0||c===null)&&l.write(""),c===null){l.end();return}let T=zC.fromWeb(c);await QC(T,l);return}if(e===void 0){let i=awslambda.HttpResponseStream.from(t,{statusCode:204,headers:{[Uc]:a}});i.write(""),i.end();return}throw new Nr("Function returned an unsupported value. Accepted types are 'Response' or 'undefined'")};import $n from"process";var oI={delete:e=>{delete $n.env[e]},get:e=>$n.env[e],has:e=>!!$n.env[e],set:(e,t)=>{$n.env[e]=t},toObject:()=>Object.entries($n.env).reduce((e,[t,r])=>r===void 0?e:{...e,[t]:r},{})},SA={get context(){let e=Me.getStore();return(e==null?void 0:e.context)??null},env:oI};globalThis.Netlify=SA;var sI=()=>SA;var LB=()=>aI(import.meta.url);export{eI as getLambdaHandler,sI as getNetlifyGlobal,LB as getPath};
